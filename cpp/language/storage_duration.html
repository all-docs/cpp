<!DOCTYPE html><html lang="en" dir="ltr" class="client-nojs"><!-- Mirrored from en.cppreference.com/w/cpp/language/storage_duration by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 29 Jan 2025 11:35:21 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=UTF-8"><!-- /Added by HTTrack -->

<title>Storage class specifiers</title>
<meta charset="UTF-8">
<meta name="generator" content="MediaWiki 1.21.2">







<meta name="ResourceLoaderDynamicStyles" content="">

<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}#toc{display:none}.editsection{display:none}
/* cache key: mwiki1-mwiki_en_:resourceloader:filter:minify-css:7:472787eddcf4605d11de8c7ef047234f */</style>




<style type="text/css">/*<![CDATA[*/
.source-cpp {line-height: normal;}
.source-cpp li, .source-cpp pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for cpp
 * CSS class: source-cpp, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.cpp.source-cpp .de1, .cpp.source-cpp .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;}
.cpp.source-cpp  {font-family:monospace;}
.cpp.source-cpp .imp {font-weight: bold; color: red;}
.cpp.source-cpp li, .cpp.source-cpp .li1 {font-weight: normal; vertical-align:top;}
.cpp.source-cpp .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.cpp.source-cpp .li2 {font-weight: bold; vertical-align:top;}
.cpp.source-cpp .kw1 {color: #0000dd;}
.cpp.source-cpp .kw2 {color: #0000ff;}
.cpp.source-cpp .kw3 {color: #0000dd;}
.cpp.source-cpp .kw4 {color: #0000ff;}
.cpp.source-cpp .co1 {color: #909090;}
.cpp.source-cpp .co2 {color: #339900;}
.cpp.source-cpp .coMULTI {color: #ff0000; font-style: italic;}
.cpp.source-cpp .es0 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es1 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es2 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es3 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es4 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es5 {color: #008000; font-weight: bold;}
.cpp.source-cpp .br0 {color: #008000;}
.cpp.source-cpp .sy0 {color: #008000;}
.cpp.source-cpp .sy1 {color: #000080;}
.cpp.source-cpp .sy2 {color: #000040;}
.cpp.source-cpp .sy3 {color: #000040;}
.cpp.source-cpp .sy4 {color: #008080;}
.cpp.source-cpp .st0 {color: #008000;}
.cpp.source-cpp .nu0 {color: #000080;}
.cpp.source-cpp .nu6 {color: #000080;}
.cpp.source-cpp .nu8 {color: #000080;}
.cpp.source-cpp .nu12 {color: #000080;}
.cpp.source-cpp .nu16 {color:#000080;}
.cpp.source-cpp .nu17 {color:#000080;}
.cpp.source-cpp .nu18 {color:#000080;}
.cpp.source-cpp .nu19 {color:#000080;}
.cpp.source-cpp .ln-xtra, .cpp.source-cpp li.ln-xtra, .cpp.source-cpp div.ln-xtra {background-color: #ffc;}
.cpp.source-cpp span.xtra { display:block; }

/*]]>*/
</style><style type="text/css">/*<![CDATA[*/
.source-text {line-height: normal;}
.source-text li, .source-text pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for text
 * CSS class: source-text, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.text.source-text .de1, .text.source-text .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;}
.text.source-text  {font-family:monospace;}
.text.source-text .imp {font-weight: bold; color: red;}
.text.source-text li, .text.source-text .li1 {font-weight: normal; vertical-align:top;}
.text.source-text .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.text.source-text .li2 {font-weight: bold; vertical-align:top;}
.text.source-text .ln-xtra, .text.source-text li.ln-xtra, .text.source-text div.ln-xtra {background-color: #ffc;}
.text.source-text span.xtra { display:block; }

/*]]>*/
</style><!--[if lt IE 7]><style type="text/css">body{behavior:url("/mwiki/skins/cppreference2/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-cpp_language_storage_duration skin-cppreference2 action-view cpp-navbar">
        <!-- header -->
        
        <!-- /header -->
        <!-- content -->
<style type="text/css">
#carbonads {
  display: block;
  overflow: hidden;
  position: absolute;
  text-align: center;
  left: -170px;
  max-width: 150px;
  border-radius: 4px;
  border: solid 1px hsla(0, 0%, 0%, .1);
  background-color: hsl(0, 0%, 98%);
  font-size: 12px;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu,
  Cantarell, "Helvetica Neue", Helvetica, Arial, sans-serif;
  line-height: 1.5;
}

#carbonads a {
  color: inherit;
  text-decoration: none;
}

#carbonads a:hover {
  color: inherit;
}

#carbonads span {
  position: relative;
  display: block;
  overflow: hidden;
}

.carbon-img {
  display: block;
  margin-bottom: 8px;
  max-width: 150px;
  line-height: 1;
}

.carbon-img img {
  display: block;
  margin: 0 auto;
  max-width: 150px !important;
  width: 150px;
  height: auto;
}

.carbon-text {
  display: block;
  padding: 0 1em 8px;
}

.carbon-poweredby {
  display: block;
  padding: 8px 12px;
  background: repeating-linear-gradient(-45deg, transparent, transparent 5px, hsla(0, 0%, 0%, .025) 5px, hsla(0, 0%, 0%, .025) 10px) hsla(203, 11%, 95%, .4);
  text-transform: uppercase;
  letter-spacing: .5px;
  font-weight: 600;
  font-size: 9px;
  line-height: 1;
}
html { font-variant-ligatures: no-common-ligatures; }
</style>
        <div id="cpp-content-base">
            <div id="content">
                <a id="top"></a>
                <div id="mw-js-message" style="display:none;"></div>
                                <!-- firstHeading -->
<script async type="text/javascript" src="http://cdn.carbonads.com/carbon.js?serve=CKYITK7M&amp;placement=cppreferencecom" id="_carbonads_js"></script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-8HW0LXMYCY"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8HW0LXMYCY');
</script>
                <h1 id="firstHeading" class="firstHeading">Storage class specifiers</h1>
                <!-- /firstHeading -->
                <!-- bodyContent -->
                <div id="bodyContent">
                                        <!-- tagline -->
                    
                    <!-- /tagline -->
                                        <!-- subtitle -->
                    
                    <!-- /subtitle -->
                                                            <!-- bodycontent -->
                    <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<p>The storage class specifiers are a part of the <span class="t-spar">decl-specifier-seq</span> of a name's <a href="declarations.html" title="cpp/language/declarations">declaration syntax</a>. Together with the <a href="scope.html" title="cpp/language/scope">scope</a> of the name, they control two independent properties of the name: its <i>storage duration</i> and its <i>linkage</i>.
</p>
<table id="toc" class="toc"><tbody><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Storage_duration"><span class="tocnumber">1</span> <span class="toctext">Storage duration</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Specifiers"><span class="tocnumber">1.1</span> <span class="toctext">Specifiers</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Static_storage_duration"><span class="tocnumber">1.2</span> <span class="toctext">Static storage duration</span></a></li>
<li class="toclevel-2"><a href="#Thread_storage_duration"><span class="tocnumber">1.3</span> <span class="toctext">Thread storage duration</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Automatic_storage_duration"><span class="tocnumber">1.4</span> <span class="toctext">Automatic storage duration</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Dynamic_storage_duration"><span class="tocnumber">1.5</span> <span class="toctext">Dynamic storage duration</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Linkage"><span class="tocnumber">2</span> <span class="toctext">Linkage</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#No_linkage"><span class="tocnumber">2.1</span> <span class="toctext">No linkage</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Internal_linkage"><span class="tocnumber">2.2</span> <span class="toctext">Internal linkage</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#External_linkage"><span class="tocnumber">2.3</span> <span class="toctext">External linkage</span></a></li>
<li class="toclevel-2"><a href="#Module_linkage"><span class="tocnumber">2.4</span> <span class="toctext">Module linkage</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#Static_block_variables"><span class="tocnumber">3</span> <span class="toctext">Static block variables</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#Translation-unit-local_entities"><span class="tocnumber">4</span> <span class="toctext">Translation-unit-local entities</span></a></li>
<li class="toclevel-1 tocsection-14"><a href="#Notes"><span class="tocnumber">5</span> <span class="toctext">Notes</span></a></li>
<li class="toclevel-1 tocsection-15"><a href="#Keywords"><span class="tocnumber">6</span> <span class="toctext">Keywords</span></a></li>
<li class="toclevel-1 tocsection-16"><a href="#Example"><span class="tocnumber">7</span> <span class="toctext">Example</span></a></li>
<li class="toclevel-1 tocsection-17"><a href="#Defect_reports"><span class="tocnumber">8</span> <span class="toctext">Defect reports</span></a></li>
<li class="toclevel-1 tocsection-18"><a href="#References"><span class="tocnumber">9</span> <span class="toctext">References</span></a></li>
<li class="toclevel-1 tocsection-19"><a href="#See_also"><span class="tocnumber">10</span> <span class="toctext">See also</span></a></li>
</ul>
</td></tr></tbody></table>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/storage_duration&amp;action=edit&amp;section=1" title="Edit section: Storage duration">edit</a>]</span> <span class="mw-headline" id="Storage_duration">Storage duration</span></h3>
<p>The <i>storage duration</i> is the property of an <a href="object.html" title="cpp/language/object">object</a> that defines the minimum potential lifetime of the storage containing the object. The storage duration is determined by the construct used to create the object and is one of the following:
</p>
<ul><li> static storage duration
</li></ul>
<table class="t-rev-begin">
<tbody><tr class="t-rev t-since-cxx11"><td>
<ul><li> thread storage duration
</li></ul>
</td>
<td><span class="t-mark-rev t-since-cxx11">(since C++11)</span></td></tr>
</tbody></table>
<ul><li> automatic storage duration
</li><li> dynamic storage duration
</li></ul>
<p>Static<span class="t-rev-inl t-since-cxx11"><span>, thread,</span><span><span class="t-mark-rev t-since-cxx11">(since C++11)</span></span></span> and automatic storage durations are associated with objects introduced by <a href="declarations.html" title="cpp/language/declarations">declarations</a> and with <a href="lifetime.html#Temporary_object_lifetime" title="cpp/language/lifetime">temporary objects</a>. The dynamic storage duration is associated with objects created by a <a href="new.html" title="cpp/language/new"><span class="mw-geshi cpp source-cpp">new</span> expression</a> or with <a href="object.html#Object_creation" title="cpp/language/object">implicitly created objects</a>.
</p><p>The storage duration categories apply to references as well.
</p><p>The storage duration of <a href="object.html#Subobjects" title="cpp/language/object">subobjects</a> and reference members is that of their complete object.
</p>
<h4><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/storage_duration&amp;action=edit&amp;section=2" title="Edit section: Specifiers">edit</a>]</span> <span class="mw-headline" id="Specifiers">Specifiers</span></h4>
<p>The following keywords are <i>storage class specifiers</i> ﻿:
</p>
<table class="t-rev-begin">
<tbody><tr class="t-rev t-until-cxx11"><td>
<ul><li> <span class="mw-geshi cpp source-cpp"><span class="kw4">auto</span></span>
</li></ul>
</td>
<td><span class="t-mark-rev t-until-cxx11">(until C++11)</span></td></tr>
<tr class="t-rev t-until-cxx17"><td>
<ul><li> <span class="mw-geshi cpp source-cpp"><span class="kw4">register</span></span>
</li></ul>
</td>
<td><span class="t-mark-rev t-until-cxx17">(until C++17)</span></td></tr>
</tbody></table>
<ul><li> <span class="mw-geshi cpp source-cpp"><span class="kw4">static</span></span>
</li></ul>
<table class="t-rev-begin">
<tbody><tr class="t-rev t-since-cxx11"><td>
<ul><li> <span class="mw-geshi cpp source-cpp">thread_local</span>
</li></ul>
</td>
<td><span class="t-mark-rev t-since-cxx11">(since C++11)</span></td></tr>
</tbody></table>
<ul><li> <span class="mw-geshi cpp source-cpp"><span class="kw4">extern</span></span>
</li><li> <span class="mw-geshi cpp source-cpp">mutable</span>
</li></ul>
<p>In a <span class="t-spar">decl-specifier-seq</span>, there can be at most one storage class specifier<span class="t-rev-inl t-since-cxx11"><span>, except that <span class="mw-geshi cpp source-cpp">thread_local</span> may appear with <span class="mw-geshi cpp source-cpp"><span class="kw4">static</span></span> or <span class="mw-geshi cpp source-cpp"><span class="kw4">extern</span></span></span><span><span class="t-mark-rev t-since-cxx11">(since C++11)</span></span></span>.
</p><p><span class="mw-geshi cpp source-cpp">mutable</span> has no effect on storage duration. For its usage, see <a href="cv.html" title="cpp/language/cv">const/volatile</a>.
</p><p>Other storage class specifiers can appear in the <span class="t-spar">decl-specifier-seq</span> ﻿s of the following declarations:
</p>
<table class="wikitable" style="text-align: center;">
<tbody><tr>
<th rowspan="4">Specifier
</th>
<th colspan="9">Can appear in the <span class="t-spar">decl-specifier-seq</span> ﻿s of
</th></tr>
<tr>
<th colspan="4">Variable declarations
</th>
<th colspan="3">Function declarations
</th>
<th rowspan="3">Structured binding declarations<br><span class="t-mark-rev t-since-cxx17">(since C++17)</span>
</th></tr>
<tr>
<th colspan="2">Non-member
</th>
<th colspan="2">Member
</th>
<th rowspan="2">Non-member
</th>
<th colspan="2">Member
</th></tr>
<tr>
<th>Non-parameter
</th>
<th>Function parameter
</th>
<th>Non-static
</th>
<th>&nbsp;Static&nbsp;
</th>
<th>Non-static
</th>
<th>&nbsp;Static&nbsp;
</th></tr>
<tr>
<td><span class="mw-geshi cpp source-cpp"><span class="kw4">auto</span></span>
</td>
<td style="background: #ffff90; color: black; vertical-align: middle; text-align: center;" class="table-maybe">Block scope only</td>
<td style="background: #90ff90; color: black; vertical-align: middle; text-align: center;" class="table-yes">Yes</td>
<td style="background:#ff9090; color:black; vertical-align: middle; text-align: center;" class="table-no"> No</td>
<td style="background:#ff9090; color:black; vertical-align: middle; text-align: center;" class="table-no"> No
</td>
<td style="background:#ff9090; color:black; vertical-align: middle; text-align: center;" class="table-no"> No</td>
<td style="background:#ff9090; color:black; vertical-align: middle; text-align: center;" class="table-no"> No</td>
<td style="background:#ff9090; color:black; vertical-align: middle; text-align: center;" class="table-no"> No</td>
<td style="background: #ececec; color: grey; vertical-align: middle; text-align: center;" class="table-na"> <small>N/A</small>
</td></tr>
<tr>
<td><span class="mw-geshi cpp source-cpp"><span class="kw4">register</span></span>
</td>
<td style="background: #ffff90; color: black; vertical-align: middle; text-align: center;" class="table-maybe">Block scope only</td>
<td style="background: #90ff90; color: black; vertical-align: middle; text-align: center;" class="table-yes">Yes</td>
<td style="background:#ff9090; color:black; vertical-align: middle; text-align: center;" class="table-no"> No</td>
<td style="background:#ff9090; color:black; vertical-align: middle; text-align: center;" class="table-no"> No
</td>
<td style="background:#ff9090; color:black; vertical-align: middle; text-align: center;" class="table-no"> No</td>
<td style="background:#ff9090; color:black; vertical-align: middle; text-align: center;" class="table-no"> No</td>
<td style="background:#ff9090; color:black; vertical-align: middle; text-align: center;" class="table-no"> No</td>
<td style="background: #ececec; color: grey; vertical-align: middle; text-align: center;" class="table-na"> <small>N/A</small>
</td></tr>
<tr>
<td><span class="mw-geshi cpp source-cpp"><span class="kw4">static</span></span>
</td>
<td style="background: #90ff90; color: black; vertical-align: middle; text-align: center;" class="table-yes">Yes</td>
<td style="background:#ff9090; color:black; vertical-align: middle; text-align: center;" class="table-no"> No</td>
<td colspan="2" style="background: #90ff90; color: black; vertical-align: middle; text-align: center;" class="table-yes">Declares static
</td>
<td style="background: #ffff90; color: black; vertical-align: middle; text-align: center;" class="table-maybe">Namespace scope only</td>
<td colspan="2" style="background: #90ff90; color: black; vertical-align: middle; text-align: center;" class="table-yes">Declares static</td>
<td style="background: #90ff90; color: black; vertical-align: middle; text-align: center;" class="table-yes">Yes
</td></tr>
<tr>
<td>&nbsp;<span class="mw-geshi cpp source-cpp">thread_local</span>&nbsp;
</td>
<td style="background: #90ff90; color: black; vertical-align: middle; text-align: center;" class="table-yes">Yes</td>
<td style="background:#ff9090; color:black; vertical-align: middle; text-align: center;" class="table-no"> No</td>
<td style="background:#ff9090; color:black; vertical-align: middle; text-align: center;" class="table-no"> No</td>
<td style="background: #90ff90; color: black; vertical-align: middle; text-align: center;" class="table-yes">Yes
</td>
<td style="background:#ff9090; color:black; vertical-align: middle; text-align: center;" class="table-no"> No</td>
<td style="background:#ff9090; color:black; vertical-align: middle; text-align: center;" class="table-no"> No</td>
<td style="background:#ff9090; color:black; vertical-align: middle; text-align: center;" class="table-no"> No</td>
<td style="background: #90ff90; color: black; vertical-align: middle; text-align: center;" class="table-yes">Yes
</td></tr>
<tr>
<td><span class="mw-geshi cpp source-cpp"><span class="kw4">extern</span></span>
</td>
<td style="background: #90ff90; color: black; vertical-align: middle; text-align: center;" class="table-yes">Yes</td>
<td style="background:#ff9090; color:black; vertical-align: middle; text-align: center;" class="table-no"> No</td>
<td style="background:#ff9090; color:black; vertical-align: middle; text-align: center;" class="table-no"> No</td>
<td style="background:#ff9090; color:black; vertical-align: middle; text-align: center;" class="table-no"> No
</td>
<td style="background: #90ff90; color: black; vertical-align: middle; text-align: center;" class="table-yes">Yes</td>
<td style="background:#ff9090; color:black; vertical-align: middle; text-align: center;" class="table-no"> No</td>
<td style="background:#ff9090; color:black; vertical-align: middle; text-align: center;" class="table-no"> No</td>
<td style="background:#ff9090; color:black; vertical-align: middle; text-align: center;" class="table-no"> No
</td></tr></tbody></table>
<p><a href="union.html#Anonymous_unions" title="cpp/language/union">Anonymous unions</a> can also be declared with <span class="mw-geshi cpp source-cpp"><span class="kw4">static</span></span>.
</p>
<table class="t-rev-begin">
<tbody><tr class="t-rev t-until-cxx17"><td>
<p><span class="mw-geshi cpp source-cpp"><span class="kw4">register</span></span> is a hint that the variable so declared will be heavily used, so that its value can be stored in a CPU register. The hint can be ignored, and in most implementations it will be ignored if the address of the variable is taken. This use is deprecated.
</p>
</td>
<td><span class="t-mark-rev t-until-cxx17">(until C++17)</span></td></tr>
</tbody></table>
<h4><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/storage_duration&amp;action=edit&amp;section=3" title="Edit section: Static storage duration">edit</a>]</span> <span class="mw-headline" id="Static_storage_duration">Static storage duration</span></h4>
<p>A variable satisfying all following conditions has <i>static storage duration</i> ﻿:
</p>
<ul><li> It belongs to a <a href="scope.html#Namespace_scope" title="cpp/language/scope">namespace scope</a> or are first declared with <span class="mw-geshi cpp source-cpp"><span class="kw4">static</span></span> or <span class="mw-geshi cpp source-cpp"><span class="kw4">extern</span></span>.
</li></ul>
<table class="t-rev-begin">
<tbody><tr class="t-rev t-since-cxx11"><td>
<ul><li> It does not have thread storage duration.
</li></ul>
</td>
<td><span class="t-mark-rev t-since-cxx11">(since C++11)</span></td></tr>
</tbody></table>
<p>The storage for these entities lasts for the duration of the program.
</p>
<table class="t-rev-begin">
<tbody><tr class="t-rev t-since-cxx11"><td>
<h4> <span class="mw-headline" id="Thread_storage_duration">Thread storage duration</span></h4>
<p>All variables declared with <span class="mw-geshi cpp source-cpp">thread_local</span> have <i>thread storage duration</i>.
</p><p>The storage for these entities lasts for the duration of the thread in which they are created. There is a distinct object or reference per thread, and use of the declared name refers to the entity associated with the current thread.
</p>
</td>
<td><span class="t-mark-rev t-since-cxx11">(since C++11)</span></td></tr>
</tbody></table>
<h4><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/storage_duration&amp;action=edit&amp;section=5" title="Edit section: Automatic storage duration">edit</a>]</span> <span class="mw-headline" id="Automatic_storage_duration">Automatic storage duration</span></h4>
<p>The following variables have <i>automatic storage duration</i> ﻿:
</p>
<ul><li> Variables that belong to a <a href="scope.html#Block_scope" title="cpp/language/scope">block scope</a> and are not explicitly declared <span class="mw-geshi cpp source-cpp"><span class="kw4">static</span></span><span class="t-rev-inl t-since-cxx11"><span>, <span class="mw-geshi cpp source-cpp">thread_local</span>,</span><span><span class="t-mark-rev t-since-cxx11">(since C++11)</span></span></span> or <span class="mw-geshi cpp source-cpp"><span class="kw4">extern</span></span>. The storage for such variables lasts until the block in which they are created exits.
</li><li> Variables that belong to a parameter scope (i.e. function parameters). The storage for a function parameter lasts until immediately after its <a href="operator_other.html#Built-in_function_call_operator" title="cpp/language/operator other">destruction</a>.
</li></ul>
<h4><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/storage_duration&amp;action=edit&amp;section=6" title="Edit section: Dynamic storage duration">edit</a>]</span> <span class="mw-headline" id="Dynamic_storage_duration">Dynamic storage duration</span></h4>
<p>Objects created by the following methods during program execution have <i>dynamic storage duration</i> ﻿:
</p>
<ul><li> <a href="new.html" title="cpp/language/new"><span class="mw-geshi cpp source-cpp">new</span> expressions</a>. The storage for such objects is allocated by <a href="../memory/new/operator_new.html" title="cpp/memory/new/operator new">allocation functions</a> and deallocated by <a href="../memory/new/operator_delete.html" title="cpp/memory/new/operator delete">deallocation functions</a>.
</li><li> <a href="object.html#Object_creation" title="cpp/language/object">Implicitly creation</a> by other means. The storage for such objects overlaps with some existing storage.
</li><li> <a href="throw.html#Exception_object" title="cpp/language/throw">Exception objects</a>. The storage for such objects is allocated and deallocated in an unspecified way.
</li></ul>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/storage_duration&amp;action=edit&amp;section=7" title="Edit section: Linkage">edit</a>]</span> <span class="mw-headline" id="Linkage">Linkage</span></h3>
<p>A name can have <i>external linkage</i> ﻿<span class="t-rev-inl t-since-cxx20"><span>, <i>module linkage</i></span><span><span class="t-mark-rev t-since-cxx20">(since C++20)</span></span></span>, <i>internal linkage</i>, or <i>no linkage</i>:
</p>
<ul><li> An entity whose name has external linkage can be <a href="conflicting_declarations.html#Multiple_declarations_of_the_same_entity" title="cpp/language/conflicting declarations">redeclared</a> in another <a href="translation_phases.html" title="cpp/language/translation phases">translation unit</a><span class="t-rev-inl t-since-cxx20"><span>, and the redeclaration can be <a href="modules.html#Module_ownership" title="cpp/language/modules">attached to a different module</a></span><span><span class="t-mark-rev t-since-cxx20">(since C++20)</span></span></span>.
</li></ul>
<table class="t-rev-begin">
<tbody><tr class="t-rev t-since-cxx20"><td>
<ul><li> An entity whose name has module linkage can be redeclared in another translation unit, as long as the redeclaration is attached to the same module.
</li></ul>
</td>
<td><span class="t-mark-rev t-since-cxx20">(since C++20)</span></td></tr>
</tbody></table>
<ul><li> An entity whose name has internal linkage can be redeclared in another scope in the same translation unit.
</li><li> An entity whose name has no linkage can only be redeclared in the same scope.
</li></ul>
<p>The following linkages are recognized:
</p>
<h4><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/storage_duration&amp;action=edit&amp;section=8" title="Edit section: No linkage">edit</a>]</span> <span class="mw-headline" id="No_linkage">No linkage</span></h4>
<p>Any of the following names declared at block scope have no linkage:
</p>
<ul><li> variables that are not explicitly declared <span class="mw-geshi cpp source-cpp"><span class="kw4">extern</span></span> (regardless of the <span class="mw-geshi cpp source-cpp"><span class="kw4">static</span></span> modifier);
</li><li> <a href="class.html#Local_classes" title="cpp/language/class">local classes</a> and their member functions;
</li><li> other names declared at block scope such as typedefs, enumerations, and enumerators.
</li></ul>
<p>Names not specified with external<span class="t-rev-inl t-since-cxx20"><span>, module,</span><span><span class="t-mark-rev t-since-cxx20">(since C++20)</span></span></span> or internal linkage also have no linkage, regardless of which scope they are declared in.
</p>
<h4><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/storage_duration&amp;action=edit&amp;section=9" title="Edit section: Internal linkage">edit</a>]</span> <span class="mw-headline" id="Internal_linkage">Internal linkage</span></h4>
<p>Any of the following names declared at namespace scope have internal linkage:
</p>
<ul><li> variables<span class="t-rev-inl t-since-cxx14"><span>, variable templates</span><span><span class="t-mark-rev t-since-cxx14">(since C++14)</span></span></span>, functions, or function templates declared <span class="mw-geshi cpp source-cpp"><span class="kw4">static</span></span>;
</li><li> <span class="t-rev-inl t-since-cxx14"><span>non-template </span><span><span class="t-mark-rev t-since-cxx14">(since C++14)</span></span></span>variables of non-volatile const-qualified type, unless
</li></ul>
<table class="t-rev-begin">
<tbody><tr class="t-rev t-since-cxx17"><td>
<dl><dd><ul><li> they are inline,
</li></ul>
</dd></dl>
</td>
<td><span class="t-mark-rev t-since-cxx17">(since C++17)</span></td></tr>
<tr class="t-rev t-since-cxx20"><td>
<dl><dd><ul><li> they are declared in the purview of a <a href="modules.html#Module_declarations" title="cpp/language/modules">module interface unit</a> (outside the <a href="modules.html#Private_module_fragment" title="cpp/language/modules">private module fragment</a>, if any) or <a href="modules.html#Module_partitions" title="cpp/language/modules">module partition</a>,
</li></ul>
</dd></dl>
</td>
<td><span class="t-mark-rev t-since-cxx20">(since C++20)</span></td></tr>
</tbody></table>
<dl><dd><ul><li> they are explicitly declared <span class="mw-geshi cpp source-cpp"><span class="kw4">extern</span></span>, or
</li><li> they were previously declared and the prior declaration did not have internal linkage;
</li></ul>
</dd></dl>
<ul><li> data members of <a href="union.html" title="cpp/language/union">anonymous unions</a>.
</li></ul>
<table class="t-rev-begin">
<tbody><tr class="t-rev t-since-cxx11"><td>
<p>In addition, all names declared in <a href="namespace.html#Unnamed_namespaces" title="cpp/language/namespace">unnamed namespaces</a> or a namespace within an unnamed namespace, even ones explicitly declared <span class="mw-geshi cpp source-cpp"><span class="kw4">extern</span></span>, have internal linkage.
</p>
</td>
<td><span class="t-mark-rev t-since-cxx11">(since C++11)</span></td></tr>
</tbody></table>
<h4><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/storage_duration&amp;action=edit&amp;section=10" title="Edit section: External linkage">edit</a>]</span> <span class="mw-headline" id="External_linkage">External linkage</span></h4>
<p>Variables and functions with external linkage also have <a href="language_linkage.html" title="cpp/language/language linkage">language linkage</a>, which makes it possible to link translation units written in different programming languages.
</p><p>Any of the following names declared at namespace scope have external linkage, unless they are declared in an unnamed namespace<span class="t-rev-inl t-since-cxx20"><span> or their declarations are attached to a named module and are not exported</span><span><span class="t-mark-rev t-since-cxx20">(since C++20)</span></span></span>:
</p>
<ul><li> variables and functions not listed above (that is, functions not declared <span class="mw-geshi cpp source-cpp"><span class="kw4">static</span></span>, non-const variables not declared <span class="mw-geshi cpp source-cpp"><span class="kw4">static</span></span>, and any variables declared <span class="mw-geshi cpp source-cpp"><span class="kw4">extern</span></span>);
</li><li> enumerations;
</li><li> names of classes, their member functions, static data members (const or not), nested classes and enumerations, and functions first introduced with <a href="friend.html" title="cpp/language/friend">friend</a> declarations inside class bodies;
</li><li> names of all templates not listed above (that is, not function templates declared <span class="mw-geshi cpp source-cpp"><span class="kw4">static</span></span>).
</li></ul>
<p>Any of the following names first declared at block scope have external linkage:
</p>
<ul><li> names of variables declared <span class="mw-geshi cpp source-cpp"><span class="kw4">extern</span></span>;
</li><li> names of functions.
</li></ul>
<table class="t-rev-begin">
<tbody><tr class="t-rev t-since-cxx20"><td>
<h4> <span class="mw-headline" id="Module_linkage">Module linkage</span></h4>
<p>Names declared at namespace scope have module linkage if their declarations are attached to a named module and are not exported, and do not have internal linkage.
</p>
</td>
<td><span class="t-mark-rev t-since-cxx20">(since C++20)</span></td></tr>
</tbody></table>
<table class="metadata plainlinks ambox mbox-small-left ambox-notice" style=""><tbody><tr><td class="mbox-empty-cell"></td><td class="mbox-text" style="">This section is incomplete<br>Reason: add the description of the behavior when an entity is declared with different linkages in the same translation unit (6.6 paragraph 6), note the difference between C++20 (ill-formed) and the current draft (well-formed) </td></tr></tbody></table>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/storage_duration&amp;action=edit&amp;section=12" title="Edit section: Static block variables">edit</a>]</span> <span class="mw-headline" id="Static_block_variables">Static block variables</span></h3>
<p>Block variables with static<span class="t-rev-inl t-since-cxx11"><span> or thread</span><span><span class="t-mark-rev t-since-cxx11">(since C++11)</span></span></span> storage duration are initialized the first time control passes through their declaration (unless their initialization is <a href="zero_initialization.html" title="cpp/language/zero initialization">zero-</a> or <a href="constant_initialization.html" title="cpp/language/constant initialization">constant-initialization</a>, which can be performed before the block is first entered). On all further calls, the declaration is skipped.
</p>
<ul><li> If the initialization <a href="throw.html" title="cpp/language/throw">throws an exception</a>, the variable is not considered to be initialized, and initialization will be attempted again the next time control passes through the declaration.
</li><li> If the initialization recursively enters the block in which the variable is being initialized, the behavior is undefined.
</li></ul>
<table class="t-rev-begin">
<tbody><tr class="t-rev t-since-cxx11"><td>
<ul><li> If multiple threads attempt to initialize the same static local variable concurrently, the initialization occurs exactly once (similar behavior can be obtained for arbitrary functions with <span class="t-lc"><a href="../thread/call_once.html" title="cpp/thread/call once">std::call_once</a></span>).
</li></ul>
<dl><dd><ul><li> Usual implementations of this feature use variants of the double-checked locking pattern, which reduces runtime overhead for already-initialized local statics to a single non-atomic boolean comparison.
</li></ul>
</dd></dl>
</td>
<td><span class="t-mark-rev t-since-cxx11">(since C++11)</span></td></tr>
</tbody></table>
<p>The destructor for a block variable with static storage duration <a href="../utility/program/exit.html" title="cpp/utility/program/exit">is called at program exit</a>, but only if the initialization took place successfully.
</p><p>Variables with static storage duration in all definitions of the same <a href="inline.html" title="cpp/language/inline">inline function</a> (which may be implicitly inline) all refer to the same object defined in one translation unit, as long as the function has external linkage.
</p>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/storage_duration&amp;action=edit&amp;section=13" title="Edit section: Translation-unit-local entities">edit</a>]</span> <span class="mw-headline" id="Translation-unit-local_entities">Translation-unit-local entities</span></h3>
<p>The concept of translation-unit-local entities is standardized in C++20, see <a href="tu_local.html" title="cpp/language/tu local">this page</a> for more details.
</p><p>An entity is <i>translation-unit-local</i> (or <i>TU-local</i> for short) if
</p>
<ul><li> it has a name with internal linkage, or
</li><li> it does not have a name with linkage and is introduced within the definition of a TU-local entity, or
</li><li> it is a template or template specialization whose template argument or template declaration uses a TU-local entity.
</li></ul>
<p>Bad things (usually violation of <a href="definition.html" title="cpp/language/definition">ODR</a>) can happen if the type of a non-TU-local entity depends on a TU-local entity, or if a declaration of<span class="t-rev-inl t-since-cxx17"><span>, or a <a href="class_template_argument_deduction.html" title="cpp/language/ctad" class="mw-redirect">deduction guide</a> for,</span><span><span class="t-mark-rev t-since-cxx17">(since C++17)</span></span></span> a non-TU-local entity names a TU-local entity outside its
</p>
<ul><li> function-body for a non-inline function or function template
</li><li> initializer for a variable or variable template
</li><li> friend declarations in a class definition
</li><li> use of value of a variable, if the variable is <a href="constant_expression.html#Usable_in_constant_expressions" title="cpp/language/constant expression">usable in constant expressions</a>
</li></ul>
<table class="t-rev-begin">
<tbody><tr class="t-rev t-since-cxx20"><td>
<p>Such uses are disallowed in a <a href="modules.html" title="cpp/language/modules">module interface unit</a> (outside its private-module-fragment, if any) or a module partition, and are deprecated in any other context.
</p><p>A declaration that appears in one translation unit cannot name a TU-local entity declared in another translation unit that is not a header unit. A declaration instantiated for a <a href="templates.html" title="cpp/language/templates">template</a> appears at the point of instantiation of the specialization.
</p>
</td>
<td><span class="t-mark-rev t-since-cxx20">(since C++20)</span></td></tr>
</tbody></table>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/storage_duration&amp;action=edit&amp;section=14" title="Edit section: Notes">edit</a>]</span> <span class="mw-headline" id="Notes">Notes</span></h3>
<p>Names at the top-level namespace scope (file scope in C) that are <span class="mw-geshi cpp source-cpp"><span class="kw4">const</span></span> and not <span class="mw-geshi cpp source-cpp"><span class="kw4">extern</span></span> have external linkage in C, but internal linkage in C++.
</p><p>Since C++11, <span class="mw-geshi cpp source-cpp"><span class="kw4">auto</span></span> is no longer a storage class specifier; it is used to indicate type deduction. 
</p>
<table class="t-rev-begin">
<tbody><tr class="t-rev t-until-cxx17"><td>
<p>In C, the address of a <span class="mw-geshi cpp source-cpp"><span class="kw4">register</span></span> variable cannot be taken, but in C++, a variable declared <span class="mw-geshi cpp source-cpp"><span class="kw4">register</span></span> is semantically indistinguishable from a variable declared without any storage class specifiers.
</p>
</td>
<td><span class="t-mark-rev t-until-cxx17">(until C++17)</span></td></tr>
<tr class="t-rev t-since-cxx17"><td>
<p>In C++, unlike C, variables cannot be declared <span class="mw-geshi cpp source-cpp"><span class="kw4">register</span></span>.
</p>
</td>
<td><span class="t-mark-rev t-since-cxx17">(since C++17)</span></td></tr>
</tbody></table>
<p>Names of <span class="mw-geshi cpp source-cpp">thread_local</span> variables with internal or external linkage referred from different scopes may refer to the same or to different instances depending on whether the code is executing in the same or in different threads.
</p><p>The <span class="mw-geshi cpp source-cpp"><span class="kw4">extern</span></span> keyword can also be used to specify <a href="language_linkage.html" title="cpp/language/language linkage">language linkage</a> and <a href="class_template.html" title="cpp/language/class template">explicit template instantiation declarations</a>, but it's not a storage class specifier in those cases (except when a declaration is directly contained in a language linkage specification, in which case the declaration is treated as if it contains the <span class="mw-geshi cpp source-cpp"><span class="kw4">extern</span></span> specifier).
</p><p>Storage class specifiers, except for <span class="mw-geshi cpp source-cpp">thread_local</span>, are not allowed on <a href="template_specialization.html" title="cpp/language/template specialization">explicit specializations</a> and <a href="class_template.html#Explicit_instantiation" title="cpp/language/class template">explicit instantiations</a>:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw1">template</span><span class="sy1">&lt;</span><span class="kw1">class</span> T<span class="sy1">&gt;</span>
<span class="kw1">struct</span> S
<span class="br0">{</span>
    thread_local <span class="kw4">static</span> <span class="kw4">int</span> tlm<span class="sy4">;</span>
<span class="br0">}</span><span class="sy4">;</span>
&nbsp;
<span class="kw1">template</span><span class="sy1">&lt;&gt;</span>
thread_local <span class="kw4">int</span> S<span class="sy1">&lt;</span><span class="kw4">float</span><span class="sy1">&gt;</span><span class="sy4">::</span><span class="me2">tlm</span> <span class="sy1">=</span> <span class="nu0">0</span><span class="sy4">;</span> <span class="co1">// "static" does not appear here</span></pre></div></div>
<table class="t-rev-begin">
<tbody><tr class="t-rev t-since-cxx14"><td>
<p>A <span class="mw-geshi cpp source-cpp"><span class="kw4">const</span></span> (may be implied by <span class="mw-geshi cpp source-cpp"><span class="kw4">constexpr</span></span>) variable template used to have internal linkage by default, which was inconsistent with other templated entities. Defect report <a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/2387.html">CWG2387</a> corrected this.
</p>
</td>
<td><span class="t-mark-rev t-since-cxx14">(since C++14)</span></td></tr>
<tr class="t-rev t-since-cxx17"><td><a href="inline.html" title="cpp/language/inline"><code>inline</code></a> acts as a workaround for <a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/2387.html">CWG2387</a> by giving external linkage by default. This is why the <span class="mw-geshi cpp source-cpp"><span class="kw1">inline</span></span> was <a rel="nofollow" class="external text" href="https://wg21.link/p0607r0">added</a> to many variable templates and then <a rel="nofollow" class="external text" href="https://github.com/cplusplus/draft/pull/4625">removed</a> after having CWG2387 accepted. Standard library implementations also need to use <span class="mw-geshi cpp source-cpp"><span class="kw1">inline</span></span> as long as a supported compiler has not get CWG2387 implemented. See <a rel="nofollow" class="external text" href="https://gcc.gnu.org/bugzilla/show_bug.cgi?id=109126">GCC Bugzilla #109126</a> and <a rel="nofollow" class="external text" href="https://github.com/microsoft/STL/pull/4546">MSVC STL PR #4546</a>.</td>
<td><span class="t-mark-rev t-since-cxx17">(since C++17)</span></td></tr>
</tbody></table>
<table class="wikitable ftm-begin ftm-has-value">

<tbody><tr>
<th>Feature-test macro</th>
<th><abbr title="The year/month in which the feature was adopted. The hyperlink under each value opens a compiler support page with entry for given feature.">Value</abbr></th>
<th><abbr title="Standard in which the feature is introduced; DR means defect report against that revision">Std</abbr></th>
<th>Feature
</th></tr>
<tr>
<td><a href="../feature_test.html#cpp_threadsafe_static_init" title="cpp/feature test"><code>__cpp_threadsafe_static_init</code></a></td>
<td><a href="../compiler_support/11.html#cpp_threadsafe_static_init_200806L" title="cpp/compiler support/11"><code>200806L</code></a></td>
<td><span class="t-mark">(C++11)</span></td>
<td><a href="#Static_local_variables">Dynamic initialization and destruction with concurrency</a>
</td></tr></tbody></table>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/storage_duration&amp;action=edit&amp;section=15" title="Edit section: Keywords">edit</a>]</span> <span class="mw-headline" id="Keywords">Keywords</span></h3>
<p><a href="../keyword/auto.html" title="cpp/keyword/auto"><tt>auto</tt></a>,
<a href="../keyword/register.html" title="cpp/keyword/register"><tt>register</tt></a>,
<a href="../keyword/static.html" title="cpp/keyword/static"><tt>static</tt></a>,
<a href="../keyword/extern.html" title="cpp/keyword/extern"><tt>extern</tt></a>,
<a href="../keyword/thread_local.html" title="cpp/keyword/thread local"><tt>thread_local</tt></a>,
<a href="../keyword/mutable.html" title="cpp/keyword/mutable"><tt>mutable</tt></a>
</p>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/storage_duration&amp;action=edit&amp;section=16" title="Edit section: Example">edit</a>]</span> <span class="mw-headline" id="Example">Example</span></h3>
<div class="t-example"><div class="t-example-live-link"><div class="coliru-btn coliru-btn-run-init">Run this code</div></div>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="co2">#include &lt;iostream&gt;</span>
<span class="co2">#include &lt;mutex&gt;</span>
<span class="co2">#include &lt;string&gt;</span>
<span class="co2">#include &lt;thread&gt;</span>
&nbsp;
thread_local <span class="kw4">unsigned</span> <span class="kw4">int</span> rage <span class="sy1">=</span> <span class="nu0">1</span><span class="sy4">;</span>
<a href="../thread/mutex.html"><span class="kw2175">std::<span class="me2">mutex</span></span></a> cout_mutex<span class="sy4">;</span>
&nbsp;
<span class="kw4">void</span> increase_rage<span class="br0">(</span><span class="kw4">const</span> <a href="../string/basic_string.html"><span class="kw1238">std::<span class="me2">string</span></span></a><span class="sy3">&amp;</span> thread_name<span class="br0">)</span>
<span class="br0">{</span>
    <span class="sy2">++</span>rage<span class="sy4">;</span> <span class="co1">// modifying outside a lock is okay; this is a thread-local variable</span>
    <a href="../thread/lock_guard.html"><span class="kw2187">std::<span class="me2">lock_guard</span></span></a><span class="sy1">&lt;</span><a href="../thread/mutex.html"><span class="kw2175">std::<span class="me2">mutex</span></span></a><span class="sy1">&gt;</span> lock<span class="br0">(</span>cout_mutex<span class="br0">)</span><span class="sy4">;</span>
    <a href="../io/cout.html"><span class="kw1775">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> <span class="st0">"Rage counter for "</span> <span class="sy1">&lt;&lt;</span> thread_name <span class="sy1">&lt;&lt;</span> <span class="st0">": "</span> <span class="sy1">&lt;&lt;</span> rage <span class="sy1">&lt;&lt;</span> <span class="st0">'<span class="es1">\n</span>'</span><span class="sy4">;</span>
<span class="br0">}</span>
&nbsp;
<span class="kw4">int</span> main<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <a href="../thread/thread.html"><span class="kw2167">std::<span class="me2">thread</span></span></a> a<span class="br0">(</span>increase_rage, <span class="st0">"a"</span><span class="br0">)</span>, b<span class="br0">(</span>increase_rage, <span class="st0">"b"</span><span class="br0">)</span><span class="sy4">;</span>
&nbsp;
    <span class="br0">{</span>
        <a href="../thread/lock_guard.html"><span class="kw2187">std::<span class="me2">lock_guard</span></span></a><span class="sy1">&lt;</span><a href="../thread/mutex.html"><span class="kw2175">std::<span class="me2">mutex</span></span></a><span class="sy1">&gt;</span> lock<span class="br0">(</span>cout_mutex<span class="br0">)</span><span class="sy4">;</span>
        <a href="../io/cout.html"><span class="kw1775">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> <span class="st0">"Rage counter for main: "</span> <span class="sy1">&lt;&lt;</span> rage <span class="sy1">&lt;&lt;</span> <span class="st0">'<span class="es1">\n</span>'</span><span class="sy4">;</span>
    <span class="br0">}</span>
&nbsp;
    a.<span class="me1">join</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
    b.<span class="me1">join</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span></pre></div></div>
<p>Possible output:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="text source-text"><pre class="de1">Rage counter for a: 2
Rage counter for main: 1
Rage counter for b: 2</pre></div></div> 
</div>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/storage_duration&amp;action=edit&amp;section=17" title="Edit section: Defect reports">edit</a>]</span> <span class="mw-headline" id="Defect_reports">Defect reports</span></h3>
<p>The following behavior-changing defect reports were applied retroactively to previously published C++ standards.
</p>
<table class="dsctable" style="font-size:0.8em">
<tbody><tr>
<th>DR
</th>
<th>Applied to
</th>
<th>Behavior as published
</th>
<th>Correct behavior
</th></tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/216.html">CWG 216</a>
</td>
<td>C++98
</td>
<td>unnamed class and enumeration in class scope have<br>different linkage from those in namespace scope
</td>
<td>they all have external<br>linkage in these scopes
</td></tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/389.html">CWG 389</a>
</td>
<td>C++98
</td>
<td>a name with no linkage should not be<br>used to declare an entity with linkage
</td>
<td>a type without linkage shall not be used<br>as the type of a variable or function<br>with linkage, unless the variable<br>or function has C language linkage
</td></tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/426.html">CWG 426</a>
</td>
<td>C++98
</td>
<td>an entity could be declared with both internal<br>and external linkage in the same translation unit
</td>
<td>the program is ill-formed in this case
</td></tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/527.html">CWG 527</a>
</td>
<td>C++98
</td>
<td>the type restriction introduced by the resolution of CWG<br>389 was also applied to variables and functions that<br>cannot be named outside their own translation units
</td>
<td>the restriction is lifted for these<br>variables and functions (i.e. with no<br>linkage or internal linkage, or declared<br>within unnamed namespaces)
</td></tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/809.html">CWG 809</a>
</td>
<td>C++98
</td>
<td><span class="mw-geshi cpp source-cpp"><span class="kw4">register</span></span> served very little function
</td>
<td>deprecated
</td></tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/1648.html">CWG 1648</a>
</td>
<td>C++11
</td>
<td><span class="mw-geshi cpp source-cpp"><span class="kw4">static</span></span> was implied even if<br><span class="mw-geshi cpp source-cpp">thread_local</span> is combined with <span class="mw-geshi cpp source-cpp"><span class="kw4">extern</span></span>
</td>
<td>implied only if no other storage<br>class specifier is present
</td></tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/1686.html">CWG 1686</a>
</td>
<td>C++98<br>C++11
</td>
<td>the name of a non-static variable declared in namespace<br>scope had internal linkage only if it is explicitly<br>declared <span class="mw-geshi cpp source-cpp"><span class="kw4">const</span></span> (C++98) or <span class="mw-geshi cpp source-cpp"><span class="kw4">constexpr</span></span> (C++11)
</td>
<td>only required the type<br>to be const-qualified
</td></tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/2019.html">CWG 2019</a>
</td>
<td>C++98
</td>
<td>the storage duration of reference<br>members were unspecified
</td>
<td>same as their complete object
</td></tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/2387.html">CWG 2387</a>
</td>
<td>C++14
</td>
<td>unclear whether const-qualified variable<br>template have internal linkage by default
</td>
<td>const qualifier does not affect<br>the linkage of variable<br>templates or their instances
</td></tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/2533.html">CWG 2533</a>
</td>
<td>C++98
</td>
<td>the storage duration of implicitly-<br>created objects were unclear
</td>
<td>made clear
</td></tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/2850.html">CWG 2850</a>
</td>
<td>C++98
</td>
<td>it was unclear when the storage for<br>function parameters are deallocated
</td>
<td>made clear
</td></tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/2872.html">CWG 2872</a>
</td>
<td>C++98
</td>
<td>the meaning of “can be referred to” was unclear
</td>
<td>improved wording
</td></tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://wg21.link/P2788R0">P2788R0</a>
</td>
<td>C++20
</td>
<td>declaring a const-qualified variable in a namespace<br>gave it internal linkage even in a module unit
</td>
<td>internal linkage is not given
</td></tr></tbody></table>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/storage_duration&amp;action=edit&amp;section=18" title="Edit section: References">edit</a>]</span> <span class="mw-headline" id="References">References</span></h3>
<div class="t-ref-std-c++23">
<ul><li> C++23 standard (ISO/IEC 14882:2024): 
</li></ul>
<dl><dd><ul><li> 6.7.5 Storage duration [basic.stc] 
</li></ul>
</dd></dl>
</div>
<div class="t-ref-std-c++20">
<ul><li> C++20 standard (ISO/IEC 14882:2020): 
</li></ul>
<dl><dd><ul><li> 6.7.5 Storage duration [basic.stc] 
</li></ul>
</dd></dl>
</div>
<div class="t-ref-std-c++17">
<ul><li> C++17 standard (ISO/IEC 14882:2017): 
</li></ul>
<dl><dd><ul><li> 6.7 Storage duration [basic.stc] 
</li></ul>
</dd></dl>
</div>
<div class="t-ref-std-c++14">
<ul><li> C++14 standard (ISO/IEC 14882:2014): 
</li></ul>
<dl><dd><ul><li> 3.7 Storage duration [basic.stc] 
</li></ul>
</dd></dl>
</div>
<div class="t-ref-std-c++11">
<ul><li> C++11 standard (ISO/IEC 14882:2011): 
</li></ul>
<dl><dd><ul><li> 3.7 Storage duration [basic.stc] 
</li></ul>
</dd></dl>
</div>
<div class="t-ref-std-c++03">
<ul><li> C++03 standard (ISO/IEC 14882:2003): 
</li></ul>
<dl><dd><ul><li> 3.7 Storage duration [basic.stc] 
</li></ul>
</dd></dl>
</div>
<div class="t-ref-std-c++98">
<ul><li> C++98 standard (ISO/IEC 14882:1998): 
</li></ul>
<dl><dd><ul><li> 3.7 Storage duration [basic.stc] 
</li></ul>
</dd></dl>
</div>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/storage_duration&amp;action=edit&amp;section=19" title="Edit section: See also">edit</a>]</span> <span class="mw-headline" id="See_also">See also</span></h3>
<table class="t-dsc-begin">

<tbody><tr class="t-dsc">
<td colspan="2"> <div class="t-dsc-see"><span><a href="https://en.cppreference.com/w/c/language/storage_duration" title="c/language/storage duration">C documentation</a></span> for <span class=""><span>storage duration</span></span></div>
</td></tr>

</tbody></table>

<!-- 
NewPP limit report
Preprocessor visited node count: 8097/1000000
Preprocessor generated node count: 18489/1000000
Post‐expand include size: 219329/4194304 bytes
Template argument size: 39079/4194304 bytes
Highest expansion depth: 17/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key mwiki1-mwiki_en_:pcache:idhash:712-0!*!0!!en!*!* and timestamp 20250105123946 -->
</div>                    <!-- /bodycontent -->
                                        <!-- printfooter -->
                    <div class="printfooter">
                    Retrieved from "<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/storage_duration&amp;oldid=177472">https://en.cppreference.com/mwiki/index.php?title=cpp/language/storage_duration&amp;oldid=177472</a>"                    </div>
                    <!-- /printfooter -->
                                                            <!-- catlinks -->
                    <div id="catlinks" class="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://en.cppreference.com/w/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="https://en.cppreference.com/w/Category:Todo_with_reason" title="Category:Todo with reason">Todo with reason</a></li></ul></div></div>                    <!-- /catlinks -->
                                                            <div class="visualClear"></div>
                    <!-- debughtml -->
                                        <!-- /debughtml -->
                </div>
                <!-- /bodyContent -->
            </div>
        </div>
        <!-- /content -->
        <!-- footer -->
        
        <!-- /footer -->
        <script>if(window.mw){
mw.loader.state({"site":"loading","user":"missing","user.groups":"ready"});
}</script>
<script src="https://en.cppreference.com/mwiki/load.php?debug=false&amp;lang=en&amp;modules=skins.cppreference2&amp;only=scripts&amp;skin=cppreference2&amp;*"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.page.ready","mediawiki.searchSuggest","mediawiki.hidpi","ext.gadget.ColiruCompiler","ext.gadget.StandardRevisions","ext.gadget.MathJax"], null, true);
}</script>
<script src="https://en.cppreference.com/mwiki/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=cppreference2&amp;*"></script>
<!-- Served in 7.649 secs. -->
	




</body><!-- Cached 20250105123946 --><!-- Mirrored from en.cppreference.com/w/cpp/language/storage_duration by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 29 Jan 2025 11:35:21 GMT --></html>