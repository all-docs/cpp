<!DOCTYPE html><html lang="en" dir="ltr" class="client-nojs"><!-- Mirrored from en.cppreference.com/w/cpp/language/modules by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 29 Jan 2025 11:33:50 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=UTF-8"><!-- /Added by HTTrack -->

<title>Modules (since C++20)</title>
<meta charset="UTF-8">
<meta name="generator" content="MediaWiki 1.21.2">







<meta name="ResourceLoaderDynamicStyles" content="">

<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}#toc{display:none}.editsection{display:none}
/* cache key: mwiki1-mwiki_en_:resourceloader:filter:minify-css:7:472787eddcf4605d11de8c7ef047234f */</style>




<style type="text/css">/*<![CDATA[*/
.source-cpp {line-height: normal;}
.source-cpp li, .source-cpp pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for cpp
 * CSS class: source-cpp, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.cpp.source-cpp .de1, .cpp.source-cpp .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;}
.cpp.source-cpp  {font-family:monospace;}
.cpp.source-cpp .imp {font-weight: bold; color: red;}
.cpp.source-cpp li, .cpp.source-cpp .li1 {font-weight: normal; vertical-align:top;}
.cpp.source-cpp .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.cpp.source-cpp .li2 {font-weight: bold; vertical-align:top;}
.cpp.source-cpp .kw1 {color: #0000dd;}
.cpp.source-cpp .kw2 {color: #0000ff;}
.cpp.source-cpp .kw3 {color: #0000dd;}
.cpp.source-cpp .kw4 {color: #0000ff;}
.cpp.source-cpp .co1 {color: #909090;}
.cpp.source-cpp .co2 {color: #339900;}
.cpp.source-cpp .coMULTI {color: #ff0000; font-style: italic;}
.cpp.source-cpp .es0 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es1 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es2 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es3 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es4 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es5 {color: #008000; font-weight: bold;}
.cpp.source-cpp .br0 {color: #008000;}
.cpp.source-cpp .sy0 {color: #008000;}
.cpp.source-cpp .sy1 {color: #000080;}
.cpp.source-cpp .sy2 {color: #000040;}
.cpp.source-cpp .sy3 {color: #000040;}
.cpp.source-cpp .sy4 {color: #008080;}
.cpp.source-cpp .st0 {color: #008000;}
.cpp.source-cpp .nu0 {color: #000080;}
.cpp.source-cpp .nu6 {color: #000080;}
.cpp.source-cpp .nu8 {color: #000080;}
.cpp.source-cpp .nu12 {color: #000080;}
.cpp.source-cpp .nu16 {color:#000080;}
.cpp.source-cpp .nu17 {color:#000080;}
.cpp.source-cpp .nu18 {color:#000080;}
.cpp.source-cpp .nu19 {color:#000080;}
.cpp.source-cpp .ln-xtra, .cpp.source-cpp li.ln-xtra, .cpp.source-cpp div.ln-xtra {background-color: #ffc;}
.cpp.source-cpp span.xtra { display:block; }

/*]]>*/
</style><!--[if lt IE 7]><style type="text/css">body{behavior:url("/mwiki/skins/cppreference2/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-cpp_language_modules skin-cppreference2 action-view cpp-navbar">
        <!-- header -->
        
        <!-- /header -->
        <!-- content -->
<style type="text/css">
#carbonads {
  display: block;
  overflow: hidden;
  position: absolute;
  text-align: center;
  left: -170px;
  max-width: 150px;
  border-radius: 4px;
  border: solid 1px hsla(0, 0%, 0%, .1);
  background-color: hsl(0, 0%, 98%);
  font-size: 12px;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu,
  Cantarell, "Helvetica Neue", Helvetica, Arial, sans-serif;
  line-height: 1.5;
}

#carbonads a {
  color: inherit;
  text-decoration: none;
}

#carbonads a:hover {
  color: inherit;
}

#carbonads span {
  position: relative;
  display: block;
  overflow: hidden;
}

.carbon-img {
  display: block;
  margin-bottom: 8px;
  max-width: 150px;
  line-height: 1;
}

.carbon-img img {
  display: block;
  margin: 0 auto;
  max-width: 150px !important;
  width: 150px;
  height: auto;
}

.carbon-text {
  display: block;
  padding: 0 1em 8px;
}

.carbon-poweredby {
  display: block;
  padding: 8px 12px;
  background: repeating-linear-gradient(-45deg, transparent, transparent 5px, hsla(0, 0%, 0%, .025) 5px, hsla(0, 0%, 0%, .025) 10px) hsla(203, 11%, 95%, .4);
  text-transform: uppercase;
  letter-spacing: .5px;
  font-weight: 600;
  font-size: 9px;
  line-height: 1;
}
html { font-variant-ligatures: no-common-ligatures; }
</style>
        <div id="cpp-content-base">
            <div id="content">
                <a id="top"></a>
                <div id="mw-js-message" style="display:none;"></div>
                                <!-- firstHeading -->
<script async type="text/javascript" src="http://cdn.carbonads.com/carbon.js?serve=CKYITK7M&amp;placement=cppreferencecom" id="_carbonads_js"></script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-8HW0LXMYCY"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8HW0LXMYCY');
</script>
                <h1 id="firstHeading" class="firstHeading">Modules <span class="t-mark-rev t-since-cxx20">(since C++20)</span></h1>
                <!-- /firstHeading -->
                <!-- bodyContent -->
                <div id="bodyContent">
                                        <!-- tagline -->
                    
                    <!-- /tagline -->
                                        <!-- subtitle -->
                    
                    <!-- /subtitle -->
                                                            <!-- bodycontent -->
                    <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<p>Most C++ projects use multiple translation units, and so they need to share <a href="declarations.html" title="cpp/language/declarations">declarations</a> and <a href="definition.html" title="cpp/language/definition">definitions</a> across those units. The usage of <a href="../standard_library.html#Headers" title="cpp/standard library">headers</a> is prominent for this purpose, an example being the <a href="../standard_library.html" title="cpp/standard library">standard library</a> whose declarations can be provided by <a href="../standard_library.html#Including_headers" title="cpp/standard library">including the corresponding header</a>.
</p><p>Modules are a language feature to share declarations and definitions across translation units.
They are an alternative to some use cases of headers.
</p><p>Modules are orthogonal to <a href="namespace.html" title="cpp/language/namespace">namespaces</a>.
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="co1">// helloworld.cpp</span>
export module helloworld<span class="sy4">;</span> <span class="co1">// module declaration</span>
&nbsp;
import <span class="sy1">&lt;</span>iostream<span class="sy1">&gt;</span><span class="sy4">;</span>        <span class="co1">// import declaration</span>
&nbsp;
export <span class="kw4">void</span> hello<span class="br0">(</span><span class="br0">)</span>       <span class="co1">// export declaration</span>
<span class="br0">{</span>
    <a href="../io/cout.html"><span class="kw1775">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> <span class="st0">"Hello world!<span class="es1">\n</span>"</span><span class="sy4">;</span>
<span class="br0">}</span></pre></div></div>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="co1">// main.cpp</span>
import helloworld<span class="sy4">;</span> <span class="co1">// import declaration</span>
&nbsp;
<span class="kw4">int</span> main<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    hello<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span></pre></div></div>
<table id="toc" class="toc"><tbody><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Syntax"><span class="tocnumber">1</span> <span class="toctext">Syntax</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Module_declarations"><span class="tocnumber">2</span> <span class="toctext">Module declarations</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Exporting_declarations_and_definitions"><span class="tocnumber">3</span> <span class="toctext">Exporting declarations and definitions</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Importing_modules_and_header_units"><span class="tocnumber">4</span> <span class="toctext">Importing modules and header units</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Global_module_fragment"><span class="tocnumber">5</span> <span class="toctext">Global module fragment</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Private_module_fragment"><span class="tocnumber">6</span> <span class="toctext">Private module fragment</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Module_partitions"><span class="tocnumber">7</span> <span class="toctext">Module partitions</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Module_ownership"><span class="tocnumber">8</span> <span class="toctext">Module ownership</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Notes"><span class="tocnumber">9</span> <span class="toctext">Notes</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Keywords"><span class="tocnumber">10</span> <span class="toctext">Keywords</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Defect_reports"><span class="tocnumber">11</span> <span class="toctext">Defect reports</span></a></li>
</ul>
</td></tr></tbody></table>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/modules&amp;action=edit&amp;section=1" title="Edit section: Syntax">edit</a>]</span> <span class="mw-headline" id="Syntax"> Syntax </span></h3>
<table class="t-sdsc-begin">

<tbody><tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <code><b>export</b></code><span class="t-mark">(optional)</span> <code><b>module</b></code> <span class="t-spar">module-name module-partition</span> ﻿<span class="t-mark">(optional)</span> <span class="t-spar">attr</span> ﻿<span class="t-mark">(optional)</span> <code><b>;</b></code>
</td>
<td> (1)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <code><b>export</b></code> <span class="t-spar">declaration</span>
</td>
<td> (2)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <code><b>export {</b></code> <span class="t-spar">declaration-seq</span> ﻿<span class="t-mark">(optional)</span> <code><b>}</b></code>
</td>
<td> (3)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <code><b>export</b></code><span class="t-mark">(optional)</span> <code><b>import</b></code> <span class="t-spar">module-name attr</span> ﻿<span class="t-mark">(optional)</span> <code><b>;</b></code>
</td>
<td> (4)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <code><b>export</b></code><span class="t-mark">(optional)</span> <code><b>import</b></code> <span class="t-spar">module-partition attr</span> ﻿<span class="t-mark">(optional)</span> <code><b>;</b></code>
</td>
<td> (5)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <code><b>export</b></code><span class="t-mark">(optional)</span> <code><b>import</b></code> <span class="t-spar">header-name attr</span> ﻿<span class="t-mark">(optional)</span> <code><b>;</b></code>
</td>
<td> (6)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <code><b>module;</b></code>
</td>
<td> (7)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <code><b>module&nbsp;: private;</b></code>
</td>
<td> (8)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr></tbody></table>
<div class="t-li1"><span class="t-li">1)</span> Module declaration. Declares that the current translation unit is a <i>module unit</i>.</div>
<div class="t-li1"><span class="t-li">2,3)</span> Export declaration. Export all namespace-scope declarations in <span class="t-spar">declaration</span> or <span class="t-spar">declaration-seq</span>.</div>
<div class="t-li1"><span class="t-li">4,5,6)</span> Import declaration. Import a module unit/module partition/header unit.</div>
<div class="t-li1"><span class="t-li">7)</span> Starts a <a href="#Global_module_fragment">global module fragment</a>.</div>
<div class="t-li1"><span class="t-li">8)</span> Starts a <a href="#Private_module_fragment">private module fragment</a>.</div>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/modules&amp;action=edit&amp;section=2" title="Edit section: Module declarations">edit</a>]</span> <span class="mw-headline" id="Module_declarations">Module declarations</span></h3>
<p>A translation unit may have a module declaration, in which case it is considered a <i>module unit</i>.
The <i>module declaration</i>, if provided, must be the first declaration of the translation unit (excepted the <i>global module fragment</i>, which is covered later on). Each module unit is associated to a <i>module name</i> (and optionally a partition), provided in the module declaration.
</p>
<table class="t-sdsc-begin">

<tbody><tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td class="t-sdsc-nopad"> <code><b>export</b></code><span class="t-mark">(optional)</span> <code><b>module</b></code> <span class="t-spar">module-name module-partition</span> ﻿<span class="t-mark">(optional)</span> <span class="t-spar">attr</span> ﻿<span class="t-mark">(optional)</span> <code><b>;</b></code>
</td>
<td class="t-sdsc-nopad">
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr></tbody></table>
<p>The module name consists of one or more identifiers separated by dots (for example: <code>mymodule</code>, <code>mymodule.mysubmodule</code>, <code>mymodule2</code>...). Dots have no intrinsic meaning, however they are used informally to represent hierarchy.
</p><p>If any identifier in the module name or module partition is defined as an <a href="../preprocessor/replace.html" title="cpp/preprocessor/replace">object-like macro</a>, the program is ill-formed.
</p><p>A <i>named module</i> is the collection of module units with the same module name.
</p><p>Module units whose declaration has the keyword <span class="mw-geshi cpp source-cpp">export</span> are termed <i>module interface units</i>; all other module units are termed <i>module implementation units</i>.
</p><p>For every named module, there must be exactly one module interface unit that specifies no module partition; this module unit is termed the <i>primary module interface unit</i>. Its exported content will be available when importing the corresponding named module.
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="co1">// (each line represents a separate translation unit)</span>
&nbsp;
export module A<span class="sy4">;</span>   <span class="co1">// declares the primary module interface unit for named module 'A'</span>
module A<span class="sy4">;</span>          <span class="co1">// declares a module implementation unit for named module 'A'</span>
module A<span class="sy4">;</span>          <span class="co1">// declares another module implementation unit for named module 'A'</span>
export module A.<span class="me1">B</span><span class="sy4">;</span> <span class="co1">// declares the primary module interface unit for named module 'A.B'</span>
module A.<span class="me1">B</span><span class="sy4">;</span>        <span class="co1">// declares a module implementation unit for named module 'A.B'</span></pre></div></div>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/modules&amp;action=edit&amp;section=3" title="Edit section: Exporting declarations and definitions">edit</a>]</span> <span class="mw-headline" id="Exporting_declarations_and_definitions">Exporting declarations and definitions</span></h3>
<p>Module interface units can export declarations (including definitions), which can be imported by other translation units. To export a declaration, either prefix it with the <span class="mw-geshi cpp source-cpp">export</span> keyword, or else place it inside an <span class="mw-geshi cpp source-cpp">export</span> block.
</p>
<table class="t-sdsc-begin">

<tbody><tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td class="t-sdsc-nopad"> <code><b>export</b></code> <span class="t-spar">declaration</span>
</td>
<td class="t-sdsc-nopad">
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td class="t-sdsc-nopad"> <code><b>export {</b></code> <span class="t-spar">declaration-seq</span> ﻿<span class="t-mark">(optional)</span> <code><b>}</b></code>
</td>
<td class="t-sdsc-nopad">
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr></tbody></table>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1">export module A<span class="sy4">;</span> <span class="co1">// declares the primary module interface unit for named module 'A'</span>
&nbsp;
<span class="co1">// hello() will be visible by translations units importing 'A'</span>
export <span class="kw4">char</span> <span class="kw4">const</span><span class="sy2">*</span> hello<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> <span class="kw1">return</span> <span class="st0">"hello"</span><span class="sy4">;</span> <span class="br0">}</span> 
&nbsp;
<span class="co1">// world() will NOT be visible.</span>
<span class="kw4">char</span> <span class="kw4">const</span><span class="sy2">*</span> world<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> <span class="kw1">return</span> <span class="st0">"world"</span><span class="sy4">;</span> <span class="br0">}</span>
&nbsp;
<span class="co1">// Both one() and zero() will be visible.</span>
export
<span class="br0">{</span>
    <span class="kw4">int</span> one<span class="br0">(</span><span class="br0">)</span>  <span class="br0">{</span> <span class="kw1">return</span> <span class="nu0">1</span><span class="sy4">;</span> <span class="br0">}</span>
    <span class="kw4">int</span> zero<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> <span class="kw1">return</span> <span class="nu0">0</span><span class="sy4">;</span> <span class="br0">}</span>
<span class="br0">}</span>
&nbsp;
<span class="co1">// Exporting namespaces also works: hi::english() and hi::french() will be visible.</span>
export <span class="kw1">namespace</span> hi
<span class="br0">{</span>
    <span class="kw4">char</span> <span class="kw4">const</span><span class="sy2">*</span> english<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> <span class="kw1">return</span> <span class="st0">"Hi!"</span><span class="sy4">;</span> <span class="br0">}</span>
    <span class="kw4">char</span> <span class="kw4">const</span><span class="sy2">*</span> french<span class="br0">(</span><span class="br0">)</span>  <span class="br0">{</span> <span class="kw1">return</span> <span class="st0">"Salut!"</span><span class="sy4">;</span> <span class="br0">}</span>
<span class="br0">}</span></pre></div></div>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/modules&amp;action=edit&amp;section=4" title="Edit section: Importing modules and header units">edit</a>]</span> <span class="mw-headline" id="Importing_modules_and_header_units">Importing modules and header units</span></h3>
<p>Modules are imported via an <i>import declaration</i>:
</p>
<table class="t-sdsc-begin">

<tbody><tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td class="t-sdsc-nopad"> <code><b>export</b></code><span class="t-mark">(optional)</span> <code><b>import</b></code> <span class="t-spar">module-name attr</span> ﻿<span class="t-mark">(optional)</span> <code><b>;</b></code>
</td>
<td class="t-sdsc-nopad">
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr></tbody></table>
<p>All declarations and definitions exported in the module interface units of the given named module will be available in the translation unit using the import declaration.
</p><p>Import declarations can be exported in a module interface unit. That is, if module <code>B</code> export-imports <code>A</code>, then importing <code>B</code> will also make visible all exports from <code>A</code>.
</p><p>In module units, all import declarations (including export-imports) must be grouped after the module declaration and before all other declarations.
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="co1">/////// A.cpp (primary module interface unit of 'A')</span>
export module A<span class="sy4">;</span>
&nbsp;
export <span class="kw4">char</span> <span class="kw4">const</span><span class="sy2">*</span> hello<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> <span class="kw1">return</span> <span class="st0">"hello"</span><span class="sy4">;</span> <span class="br0">}</span>
&nbsp;
<span class="co1">/////// B.cpp (primary module interface unit of 'B')</span>
export module B<span class="sy4">;</span>
&nbsp;
export import A<span class="sy4">;</span>
&nbsp;
export <span class="kw4">char</span> <span class="kw4">const</span><span class="sy2">*</span> world<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> <span class="kw1">return</span> <span class="st0">"world"</span><span class="sy4">;</span> <span class="br0">}</span>
&nbsp;
<span class="co1">/////// main.cpp (not a module unit)</span>
<span class="co2">#include &lt;iostream&gt;</span>
import B<span class="sy4">;</span>
&nbsp;
<span class="kw4">int</span> main<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <a href="../io/cout.html"><span class="kw1775">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> hello<span class="br0">(</span><span class="br0">)</span> <span class="sy1">&lt;&lt;</span> <span class="st0">' '</span> <span class="sy1">&lt;&lt;</span> world<span class="br0">(</span><span class="br0">)</span> <span class="sy1">&lt;&lt;</span> <span class="st0">'<span class="es1">\n</span>'</span><span class="sy4">;</span>
<span class="br0">}</span></pre></div></div>
<p><a href="../preprocessor/include.html" title="cpp/preprocessor/include"><tt>
#include</tt></a> should not be used in a module unit (outside the <i>global module fragment</i>), because all included declarations and definitions would be considered part of the module. Instead, headers can also be imported as <i>header units</i> with an <i>import declaration</i>:
</p>
<table class="t-sdsc-begin">

<tbody><tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td class="t-sdsc-nopad"> <code><b>export</b></code><span class="t-mark">(optional)</span> <code><b>import</b></code> <span class="t-spar">header-name attr</span> ﻿<span class="t-mark">(optional)</span> <code><b>;</b></code>
</td>
<td class="t-sdsc-nopad">
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr></tbody></table>
<p>A header unit is a separate translation unit synthesized from a header. Importing a header unit will make accessible all its definitions and declarations. Preprocessor macros are also accessible (because import declarations are recognized by the preprocessor).
</p><p>However, contrary to <span class="mw-geshi cpp source-cpp"><span class="co2">#include</span></span>, preprocessing macros already defined at the point of the import declaration will not affect the processing of the header. This may be inconvenient in some cases (some headers use preprocessing macros as a form of configuration), in which case the usage of <i>global module fragment</i> is needed.
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="co1">/////// A.cpp (primary module interface unit of 'A')</span>
export module A<span class="sy4">;</span>
&nbsp;
import <span class="sy1">&lt;</span>iostream<span class="sy1">&gt;</span><span class="sy4">;</span>
export import <span class="sy1">&lt;</span>string_view<span class="sy1">&gt;</span><span class="sy4">;</span>
&nbsp;
export <span class="kw4">void</span> print<span class="br0">(</span><a href="../string/basic_string_view.html"><span class="kw1256">std::<span class="me2">string_view</span></span></a> message<span class="br0">)</span>
<span class="br0">{</span>
    <a href="../io/cout.html"><span class="kw1775">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> message <span class="sy1">&lt;&lt;</span> <a href="../io/manip/endl.html"><span class="kw1808">std::<span class="me2">endl</span></span></a><span class="sy4">;</span>
<span class="br0">}</span>
&nbsp;
<span class="co1">/////// main.cpp (not a module unit)</span>
import A<span class="sy4">;</span>
&nbsp;
<span class="kw4">int</span> main<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <a href="../string/basic_string_view.html"><span class="kw1256">std::<span class="me2">string_view</span></span></a> message <span class="sy1">=</span> <span class="st0">"Hello, world!"</span><span class="sy4">;</span>
    print<span class="br0">(</span>message<span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span></pre></div></div>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/modules&amp;action=edit&amp;section=5" title="Edit section: Global module fragment">edit</a>]</span> <span class="mw-headline" id="Global_module_fragment">Global module fragment</span></h3>
<p>Module units can be prefixed by a <i>global module fragment</i>, which can be used to include headers when importing the headers is not possible (notably when the header uses preprocessing macros as configuration).
</p>
<table class="t-sdsc-begin">

<tbody><tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td class="t-sdsc-nopad"> <code><b>module;</b></code>
<p><span class="t-spar">preprocessing-directives</span> ﻿<span class="t-mark">(optional)</span>
</p><p><span class="t-spar">module-declaration</span>
</p>
</td>
<td class="t-sdsc-nopad">
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr></tbody></table>
<p>If a module-unit has a global module fragment, then its first declaration must be <code><b>module;</b></code>. Then, only <a href="../preprocessor.html#Directives" title="cpp/preprocessor">preprocessing directives</a> can appear in the global module fragment. Then, a standard module declaration marks the end of the global module fragment and the start of the module content.
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="co1">/////// A.cpp (primary module interface unit of 'A')</span>
module<span class="sy4">;</span>
&nbsp;
<span class="co1">// Defining _POSIX_C_SOURCE adds functions to standard headers,</span>
<span class="co1">// according to the POSIX standard.</span>
<span class="co2">#define _POSIX_C_SOURCE 200809L</span>
<span class="co2">#include &lt;stdlib.h&gt;</span>
&nbsp;
export module A<span class="sy4">;</span>
&nbsp;
import <span class="sy1">&lt;</span>ctime<span class="sy1">&gt;</span><span class="sy4">;</span>
&nbsp;
<span class="co1">// Only for demonstration (bad source of randomness).</span>
<span class="co1">// Use C++ &lt;random&gt; instead.</span>
export <span class="kw4">double</span> weak_random<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <a href="../chrono/c/timespec.html"><span class="kw1033">std::<span class="me2">timespec</span></span></a> ts<span class="sy4">;</span>
    <a href="../chrono/c/timespec_get.html"><span class="kw1020">std::<span class="me2">timespec_get</span></span></a><span class="br0">(</span><span class="sy3">&amp;</span>ts, <a href="../chrono/c/timespec_get.html"><span class="kw1021">TIME_UTC</span></a><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// from &lt;ctime&gt;</span>
&nbsp;
    <span class="co1">// Provided in &lt;stdlib.h&gt; according to the POSIX standard.</span>
    srand48<span class="br0">(</span>ts.<span class="me1">tv_nsec</span><span class="br0">)</span><span class="sy4">;</span>
&nbsp;
    <span class="co1">// drand48() returns a random number between 0 and 1.</span>
    <span class="kw1">return</span> drand48<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span>
&nbsp;
<span class="co1">/////// main.cpp (not a module unit)</span>
import <span class="sy1">&lt;</span>iostream<span class="sy1">&gt;</span><span class="sy4">;</span>
import A<span class="sy4">;</span>
&nbsp;
<span class="kw4">int</span> main<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <a href="../io/cout.html"><span class="kw1775">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> <span class="st0">"Random value between 0 and 1: "</span> <span class="sy1">&lt;&lt;</span> weak_random<span class="br0">(</span><span class="br0">)</span> <span class="sy1">&lt;&lt;</span> <span class="st0">'<span class="es1">\n</span>'</span><span class="sy4">;</span>
<span class="br0">}</span></pre></div></div>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/modules&amp;action=edit&amp;section=6" title="Edit section: Private module fragment">edit</a>]</span> <span class="mw-headline" id="Private_module_fragment">Private module fragment</span></h3>
<p>Primary module interface unit can be suffixed by a <i>private module fragment</i>, which allows a module to be represented as a single translation unit without making all of the contents of the module reachable to importers.
</p>
<table class="t-sdsc-begin">

<tbody><tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td class="t-sdsc-nopad"> <code><b>module&nbsp;: private;</b></code>
<p><span class="t-spar">declaration-seq</span> ﻿<span class="t-mark">(optional)</span>
</p>
</td>
<td class="t-sdsc-nopad">
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr></tbody></table>
<p><i>Private module fragment</i> ends the portion of the module interface unit that can affect the behavior of other translation units. If a module unit contains a <i>private module fragment</i>, it will be the only module unit of its module.
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1">export module foo<span class="sy4">;</span>
&nbsp;
export <span class="kw4">int</span> f<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
&nbsp;
module <span class="sy4">:</span> <span class="kw1">private</span><span class="sy4">;</span> <span class="co1">// ends the portion of the module interface unit that</span>
                  <span class="co1">// can affect the behavior of other translation units</span>
                  <span class="co1">// starts a private module fragment</span>
&nbsp;
<span class="kw4">int</span> f<span class="br0">(</span><span class="br0">)</span>           <span class="co1">// definition not reachable from importers of foo</span>
<span class="br0">{</span>
    <span class="kw1">return</span> <span class="nu0">42</span><span class="sy4">;</span>
<span class="br0">}</span></pre></div></div>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/modules&amp;action=edit&amp;section=7" title="Edit section: Module partitions">edit</a>]</span> <span class="mw-headline" id="Module_partitions">Module partitions</span></h3>
<p>A module can have <i>module partition units</i>. They are module units whose module declarations include a module partition, which starts with a colon <code><b>:</b></code> and is placed after the module name.
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1">export module A<span class="sy4">:</span>B<span class="sy4">;</span> <span class="co1">// Declares a module interface unit for module 'A', partition ':B'.</span></pre></div></div>
<p>A module partition represents exactly one module unit (two module units cannot designate the same module partition). They are visible only from inside the named module (translation units outside the named module cannot import a module partition directly).
</p><p>A module partition can be imported by module units of the same named module.
</p>
<table class="t-sdsc-begin">

<tbody><tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td class="t-sdsc-nopad"> <code><b>export</b></code><span class="t-mark">(optional)</span> <code><b>import</b></code> <span class="t-spar">module-partition attr</span> ﻿<span class="t-mark">(optional)</span> <code><b>;</b></code>
</td>
<td class="t-sdsc-nopad">
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr></tbody></table>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="co1">/////// A-B.cpp   </span>
export module A<span class="sy4">:</span>B<span class="sy4">;</span>
...
&nbsp;
<span class="co1">/////// A-C.cpp</span>
module A<span class="sy4">:</span>C<span class="sy4">;</span>
...
&nbsp;
<span class="co1">/////// A.cpp</span>
export module A<span class="sy4">;</span>
&nbsp;
import <span class="sy4">:</span>C<span class="sy4">;</span>
export import <span class="sy4">:</span>B<span class="sy4">;</span>
&nbsp;
...</pre></div></div>
<p>All definitions and declarations in a module partition are visible by the importing module unit, whether exported or not.
</p><p>Module partitions can be module interface units (when their module declarations have <code><b>export</b></code>). They must be export-imported by the primary module interface unit, and their exported statements will be visible when the module is imported.
</p>
<table class="t-sdsc-begin">

<tbody><tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td class="t-sdsc-nopad"> <code><b>export</b></code><span class="t-mark">(optional)</span> <code><b>import</b></code> <span class="t-spar">module-partition attr</span> ﻿<span class="t-mark">(optional)</span> <code><b>;</b></code>
</td>
<td class="t-sdsc-nopad">
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr></tbody></table>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="co1">///////  A.cpp   </span>
export module A<span class="sy4">;</span>     <span class="co1">// primary module interface unit</span>
&nbsp;
export import <span class="sy4">:</span>B<span class="sy4">;</span>    <span class="co1">// Hello() is visible when importing 'A'.</span>
import <span class="sy4">:</span>C<span class="sy4">;</span>           <span class="co1">// WorldImpl() is now visible only for 'A.cpp'.</span>
<span class="co1">// export import&nbsp;:C; // ERROR: Cannot export a module implementation unit.</span>
&nbsp;
<span class="co1">// World() is visible by any translation unit importing 'A'.</span>
export <span class="kw4">char</span> <span class="kw4">const</span><span class="sy2">*</span> World<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">return</span> WorldImpl<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span></pre></div></div>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="co1">/////// A-B.cpp </span>
export module A<span class="sy4">:</span>B<span class="sy4">;</span> <span class="co1">// partition module interface unit</span>
&nbsp;
<span class="co1">// Hello() is visible by any translation unit importing 'A'.</span>
export <span class="kw4">char</span> <span class="kw4">const</span><span class="sy2">*</span> Hello<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> <span class="kw1">return</span> <span class="st0">"Hello"</span><span class="sy4">;</span> <span class="br0">}</span></pre></div></div>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="co1">/////// A-C.cpp </span>
module A<span class="sy4">:</span>C<span class="sy4">;</span> <span class="co1">// partition module implementation unit</span>
&nbsp;
<span class="co1">// WorldImpl() is visible by any module unit of 'A' importing ':C'.</span>
<span class="kw4">char</span> <span class="kw4">const</span><span class="sy2">*</span> WorldImpl<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> <span class="kw1">return</span> <span class="st0">"World"</span><span class="sy4">;</span> <span class="br0">}</span></pre></div></div>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="co1">/////// main.cpp </span>
import A<span class="sy4">;</span>
import <span class="sy1">&lt;</span>iostream<span class="sy1">&gt;</span><span class="sy4">;</span>
&nbsp;
<span class="kw4">int</span> main<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <a href="../io/cout.html"><span class="kw1775">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> Hello<span class="br0">(</span><span class="br0">)</span> <span class="sy1">&lt;&lt;</span> <span class="st0">' '</span> <span class="sy1">&lt;&lt;</span> World<span class="br0">(</span><span class="br0">)</span> <span class="sy1">&lt;&lt;</span> <span class="st0">'<span class="es1">\n</span>'</span><span class="sy4">;</span>
    <span class="co1">// WorldImpl(); // ERROR: WorldImpl() is not visible.</span>
<span class="br0">}</span></pre></div></div>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/modules&amp;action=edit&amp;section=8" title="Edit section: Module ownership">edit</a>]</span> <span class="mw-headline" id="Module_ownership">Module ownership</span></h3>
<p>In general, if a declaration appears after the module declaration in a module unit, it is <i>attached to</i> that module.
</p><p>If a declaration of an entity is attached to a named module, that entity can only be defined in that module. All declarations of such an entity must be attached to the same module.
</p><p>If a declaration is attached to a named module, and it is not exported, the declared name has <a href="storage_duration.html#Module_linkage" title="cpp/language/storage duration">module linkage</a>.
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1">export module lib_A<span class="sy4">;</span>
&nbsp;
<span class="kw4">int</span> f<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> <span class="kw1">return</span> <span class="nu0">0</span><span class="sy4">;</span> <span class="br0">}</span> <span class="co1">// f has module linkage</span>
export <span class="kw4">int</span> x <span class="sy1">=</span> f<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>   <span class="co1">// x equals 0</span></pre></div></div>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1">export module lib_B<span class="sy4">;</span>
&nbsp;
<span class="kw4">int</span> f<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> <span class="kw1">return</span> <span class="nu0">1</span><span class="sy4">;</span> <span class="br0">}</span> <span class="co1">// OK, f in lib_A and f in lib_B refer to different entities</span>
export <span class="kw4">int</span> y <span class="sy1">=</span> f<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// y equals 1</span></pre></div></div>
<p>If <a href="conflicting_declarations.html#Multiple_declarations_of_the_same_entity" title="cpp/language/conflicting declarations">two declarations of an entity</a> are attached to different modules, the program is ill-formed; no diagnostic is required if neither is reachable from the other.
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="co1">/////// decls.h</span>
<span class="kw4">int</span> f<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// #1, attached to the global module</span>
<span class="kw4">int</span> g<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// #2, attached to the global module</span></pre></div></div>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="co1">/////// Module interface of M</span>
module<span class="sy4">;</span>
<span class="co2">#include "decls.h"</span>
export module M<span class="sy4">;</span>
export <span class="kw1">using</span> <span class="sy4">::</span><span class="me2">f</span><span class="sy4">;</span> <span class="co1">// OK, does not declare an entity, exports #1</span>
<span class="kw4">int</span> g<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>          <span class="co1">// Error: matches #2, but attached to M</span>
export <span class="kw4">int</span> h<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>   <span class="co1">// #3</span>
export <span class="kw4">int</span> k<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>   <span class="co1">// #4</span></pre></div></div>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="co1">/////// Other translation unit</span>
import M<span class="sy4">;</span>
<span class="kw4">static</span> <span class="kw4">int</span> h<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>   <span class="co1">// Error: matches #3</span>
<span class="kw4">int</span> k<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>          <span class="co1">// Error: matches #4</span></pre></div></div>
<p>The following declarations are not attached to any named module (and thus the declared entity can be defined outside the module):
</p>
<ul><li> <a href="namespace.html" title="cpp/language/namespace">namespace</a> definitions with external linkage;
</li><li> declarations within a <a href="language_linkage.html" title="cpp/language/language linkage">language linkage</a> specification.
</li></ul>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1">export module lib_A<span class="sy4">;</span>
&nbsp;
<span class="kw1">namespace</span> ns <span class="co1">// ns is not attached to lib_A.</span>
<span class="br0">{</span>
    export <span class="kw4">extern</span> <span class="st0">"C++"</span> <span class="kw4">int</span> f<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// f is not attached to lib_A.</span>
           <span class="kw4">extern</span> <span class="st0">"C++"</span> <span class="kw4">int</span> g<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// g is not attached to lib_A.</span>
    export              <span class="kw4">int</span> h<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// h is attached to lib_A.</span>
<span class="br0">}</span>
<span class="co1">// ns::h must be defined in lib_A, but ns::f and ns::g can be defined elsewhere (e.g.</span>
<span class="co1">// in a traditional source file).</span></pre></div></div>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/modules&amp;action=edit&amp;section=9" title="Edit section: Notes">edit</a>]</span> <span class="mw-headline" id="Notes">Notes</span></h3>
<table class="wikitable ftm-begin ftm-has-value">

<tbody><tr>
<th><a href="../utility/feature_test.html" title="cpp/utility/feature test">Feature-test</a> macro
</th>
<th><abbr title="The year/month in which the feature was adopted. The hyperlink under each value opens a compiler support page with entry for given feature.">Value</abbr>
</th>
<th><abbr title="Standard in which the feature is introduced; DR means defect report against that revision">Std</abbr>
</th>
<th>Feature
</th></tr>
<tr>
<td><a href="../feature_test.html#cpp_modules" title="cpp/feature test"><code>__cpp_modules</code></a></td>
<td><a href="../compiler_support/20.html#cpp_modules_201907L" title="cpp/compiler support/20"><code>201907L</code></a></td>
<td><span class="t-mark">(C++20)</span></td>
<td>Modules — core language support
</td></tr>
<tr>
<td><a href="../feature_test.html#cpp_lib_modules" title="cpp/feature test"><code>__cpp_lib_modules</code></a></td>
<td><a href="../compiler_support/23.html#cpp_lib_modules_202207L" title="cpp/compiler support/23"><code>202207L</code></a></td>
<td><span class="t-mark">(C++23)</span></td>
<td><a href="../standard_library.html#Importing_modules" title="cpp/standard library">Standard library modules</a> <span class="t-c"><span class="mw-geshi cpp source-cpp">std</span></span> and <span class="t-c"><span class="mw-geshi cpp source-cpp">std.<span class="me1">compat</span></span></span>
</td></tr></tbody></table>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/modules&amp;action=edit&amp;section=10" title="Edit section: Keywords">edit</a>]</span> <span class="mw-headline" id="Keywords">Keywords</span></h3>
<p><a href="../keyword/private.html" title="cpp/keyword/private"><tt>private</tt></a>,
<a href="../identifier_with_special_meaning/module.html" title="cpp/identifier with special meaning/module"><tt>module</tt></a>,
<a href="../identifier_with_special_meaning/import.html" title="cpp/identifier with special meaning/import"><tt>import</tt></a>,
<a href="../keyword/export.html" title="cpp/keyword/export"><tt>export</tt></a>
</p>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/modules&amp;action=edit&amp;section=11" title="Edit section: Defect reports">edit</a>]</span> <span class="mw-headline" id="Defect_reports">Defect reports</span></h3>
<p>The following behavior-changing defect reports were applied retroactively to previously published C++ standards.
</p>
<table class="dsctable" style="font-size:0.8em">
<tbody><tr>
<th>DR
</th>
<th>Applied to
</th>
<th>Behavior as published
</th>
<th>Correct behavior
</th></tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/2732.html">CWG 2732</a>
</td>
<td>C++20
</td>
<td>it was unclear whether importable headers can<br>react to preprocessor state from the point of import
</td>
<td>no reaction
</td></tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://wg21.link/P3034R1">P3034R1</a>
</td>
<td>C++20
</td>
<td>module names and module partitions could<br>contain identifiers defined as object-like macros
</td>
<td>prohibited
</td></tr></tbody></table>

<!-- 
NewPP limit report
Preprocessor visited node count: 4590/1000000
Preprocessor generated node count: 9585/1000000
Post‐expand include size: 155408/4194304 bytes
Template argument size: 27609/4194304 bytes
Highest expansion depth: 16/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key mwiki1-mwiki_en_:pcache:idhash:18453-0!*!0!!en!*!* and timestamp 20250105123141 -->
</div>                    <!-- /bodycontent -->
                                        <!-- printfooter -->
                    <div class="printfooter">
                    Retrieved from "<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/modules&amp;oldid=176071">https://en.cppreference.com/mwiki/index.php?title=cpp/language/modules&amp;oldid=176071</a>"                    </div>
                    <!-- /printfooter -->
                                                            <!-- catlinks -->
                    <div id="catlinks" class="catlinks catlinks-allhidden"></div>                    <!-- /catlinks -->
                                                            <div class="visualClear"></div>
                    <!-- debughtml -->
                                        <!-- /debughtml -->
                </div>
                <!-- /bodyContent -->
            </div>
        </div>
        <!-- /content -->
        <!-- footer -->
        
        <!-- /footer -->
        <script>if(window.mw){
mw.loader.state({"site":"loading","user":"missing","user.groups":"ready"});
}</script>
<script src="https://en.cppreference.com/mwiki/load.php?debug=false&amp;lang=en&amp;modules=skins.cppreference2&amp;only=scripts&amp;skin=cppreference2&amp;*"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.page.ready","mediawiki.searchSuggest","mediawiki.hidpi","ext.gadget.ColiruCompiler","ext.gadget.StandardRevisions","ext.gadget.MathJax"], null, true);
}</script>
<script src="https://en.cppreference.com/mwiki/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=cppreference2&amp;*"></script>
<!-- Served in 4.577 secs. -->
	




</body><!-- Cached 20250105123141 --><!-- Mirrored from en.cppreference.com/w/cpp/language/modules by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 29 Jan 2025 11:33:50 GMT --></html>