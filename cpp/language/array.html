<!DOCTYPE html><html lang="en" dir="ltr" class="client-nojs"><!-- Mirrored from en.cppreference.com/w/cpp/language/array by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 29 Jan 2025 11:35:50 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=UTF-8"><!-- /Added by HTTrack -->

<title>Array declaration</title>
<meta charset="UTF-8">
<meta name="generator" content="MediaWiki 1.21.2">







<meta name="ResourceLoaderDynamicStyles" content="">

<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}#toc{display:none}.editsection{display:none}
/* cache key: mwiki1-mwiki_en_:resourceloader:filter:minify-css:7:472787eddcf4605d11de8c7ef047234f */</style>




<style type="text/css">/*<![CDATA[*/
.source-cpp {line-height: normal;}
.source-cpp li, .source-cpp pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for cpp
 * CSS class: source-cpp, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.cpp.source-cpp .de1, .cpp.source-cpp .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;}
.cpp.source-cpp  {font-family:monospace;}
.cpp.source-cpp .imp {font-weight: bold; color: red;}
.cpp.source-cpp li, .cpp.source-cpp .li1 {font-weight: normal; vertical-align:top;}
.cpp.source-cpp .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.cpp.source-cpp .li2 {font-weight: bold; vertical-align:top;}
.cpp.source-cpp .kw1 {color: #0000dd;}
.cpp.source-cpp .kw2 {color: #0000ff;}
.cpp.source-cpp .kw3 {color: #0000dd;}
.cpp.source-cpp .kw4 {color: #0000ff;}
.cpp.source-cpp .co1 {color: #909090;}
.cpp.source-cpp .co2 {color: #339900;}
.cpp.source-cpp .coMULTI {color: #ff0000; font-style: italic;}
.cpp.source-cpp .es0 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es1 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es2 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es3 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es4 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es5 {color: #008000; font-weight: bold;}
.cpp.source-cpp .br0 {color: #008000;}
.cpp.source-cpp .sy0 {color: #008000;}
.cpp.source-cpp .sy1 {color: #000080;}
.cpp.source-cpp .sy2 {color: #000040;}
.cpp.source-cpp .sy3 {color: #000040;}
.cpp.source-cpp .sy4 {color: #008080;}
.cpp.source-cpp .st0 {color: #008000;}
.cpp.source-cpp .nu0 {color: #000080;}
.cpp.source-cpp .nu6 {color: #000080;}
.cpp.source-cpp .nu8 {color: #000080;}
.cpp.source-cpp .nu12 {color: #000080;}
.cpp.source-cpp .nu16 {color:#000080;}
.cpp.source-cpp .nu17 {color:#000080;}
.cpp.source-cpp .nu18 {color:#000080;}
.cpp.source-cpp .nu19 {color:#000080;}
.cpp.source-cpp .ln-xtra, .cpp.source-cpp li.ln-xtra, .cpp.source-cpp div.ln-xtra {background-color: #ffc;}
.cpp.source-cpp span.xtra { display:block; }

/*]]>*/
</style><style type="text/css">/*<![CDATA[*/
.source-text {line-height: normal;}
.source-text li, .source-text pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for text
 * CSS class: source-text, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.text.source-text .de1, .text.source-text .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;}
.text.source-text  {font-family:monospace;}
.text.source-text .imp {font-weight: bold; color: red;}
.text.source-text li, .text.source-text .li1 {font-weight: normal; vertical-align:top;}
.text.source-text .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.text.source-text .li2 {font-weight: bold; vertical-align:top;}
.text.source-text .ln-xtra, .text.source-text li.ln-xtra, .text.source-text div.ln-xtra {background-color: #ffc;}
.text.source-text span.xtra { display:block; }

/*]]>*/
</style><!--[if lt IE 7]><style type="text/css">body{behavior:url("/mwiki/skins/cppreference2/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-cpp_language_array skin-cppreference2 action-view cpp-navbar">
        <!-- header -->
        
        <!-- /header -->
        <!-- content -->
<style type="text/css">
#carbonads {
  display: block;
  overflow: hidden;
  position: absolute;
  text-align: center;
  left: -170px;
  max-width: 150px;
  border-radius: 4px;
  border: solid 1px hsla(0, 0%, 0%, .1);
  background-color: hsl(0, 0%, 98%);
  font-size: 12px;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu,
  Cantarell, "Helvetica Neue", Helvetica, Arial, sans-serif;
  line-height: 1.5;
}

#carbonads a {
  color: inherit;
  text-decoration: none;
}

#carbonads a:hover {
  color: inherit;
}

#carbonads span {
  position: relative;
  display: block;
  overflow: hidden;
}

.carbon-img {
  display: block;
  margin-bottom: 8px;
  max-width: 150px;
  line-height: 1;
}

.carbon-img img {
  display: block;
  margin: 0 auto;
  max-width: 150px !important;
  width: 150px;
  height: auto;
}

.carbon-text {
  display: block;
  padding: 0 1em 8px;
}

.carbon-poweredby {
  display: block;
  padding: 8px 12px;
  background: repeating-linear-gradient(-45deg, transparent, transparent 5px, hsla(0, 0%, 0%, .025) 5px, hsla(0, 0%, 0%, .025) 10px) hsla(203, 11%, 95%, .4);
  text-transform: uppercase;
  letter-spacing: .5px;
  font-weight: 600;
  font-size: 9px;
  line-height: 1;
}
html { font-variant-ligatures: no-common-ligatures; }
</style>
        <div id="cpp-content-base">
            <div id="content">
                <a id="top"></a>
                <div id="mw-js-message" style="display:none;"></div>
                                <!-- firstHeading -->
<script async type="text/javascript" src="http://cdn.carbonads.com/carbon.js?serve=CKYITK7M&amp;placement=cppreferencecom" id="_carbonads_js"></script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-8HW0LXMYCY"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8HW0LXMYCY');
</script>
                <h1 id="firstHeading" class="firstHeading">Array declaration</h1>
                <!-- /firstHeading -->
                <!-- bodyContent -->
                <div id="bodyContent">
                                        <!-- tagline -->
                    
                    <!-- /tagline -->
                                        <!-- subtitle -->
                    
                    <!-- /subtitle -->
                                                            <!-- bodycontent -->
                    <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<p>Declares an object of array type.
</p>
<table id="toc" class="toc"><tbody><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Syntax"><span class="tocnumber">1</span> <span class="toctext">Syntax</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Assignment"><span class="tocnumber">1.1</span> <span class="toctext">Assignment</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Array-to-pointer_decay"><span class="tocnumber">1.2</span> <span class="toctext">Array-to-pointer decay</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Multidimensional_arrays"><span class="tocnumber">1.3</span> <span class="toctext">Multidimensional arrays</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Arrays_of_unknown_bound"><span class="tocnumber">1.4</span> <span class="toctext">Arrays of unknown bound</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Array_rvalues"><span class="tocnumber">1.5</span> <span class="toctext">Array rvalues</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Defect_reports"><span class="tocnumber">2</span> <span class="toctext">Defect reports</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#See_also"><span class="tocnumber">3</span> <span class="toctext">See also</span></a></li>
</ul>
</td></tr></tbody></table>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/array&amp;action=edit&amp;section=1" title="Edit section: Syntax">edit</a>]</span> <span class="mw-headline" id="Syntax">Syntax</span></h3>
<p>An array declaration is any simple declaration whose <a href="declarations.html" title="cpp/language/declarations">declarator</a> has the form
</p>
<table class="t-sdsc-begin">

<tbody><tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td class="t-sdsc-nopad"> <span class="t-spar">noptr-declarator</span> <code><b>[</b></code><span class="t-spar">expr</span> ﻿<span class="t-mark">(optional)</span><code><b>]</b></code> <span class="t-spar">attr</span> ﻿<span class="t-mark">(optional)</span>
</td>
<td class="t-sdsc-nopad">
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr></tbody></table>
<table class="t-par-begin">


<tbody><tr class="t-par">
<td> <span class="t-spar">noptr-declarator</span>
</td>
<td> -
</td>
<td> any valid <span class="t-spar">declarator</span>, but if it begins with <code>*</code>, <code>&amp;</code>, or <code>&amp;&amp;</code>, it has to be surrounded by parentheses (otherwise the whole declarator is treated as a <a href="pointer.html" title="cpp/language/pointer">pointer declarator</a> or <a href="reference.html" title="cpp/language/reference">reference declarator</a>).
</td></tr>
<tr class="t-par">
<td> <span class="t-spar">expr</span>
</td>
<td> -
</td>
<td> <span class="t-rev-inl t-until-cxx14"><span>an <a href="constant_expression.html" title="cpp/language/constant expression">integral constant expression</a></span><span><span class="t-mark-rev t-until-cxx14">(until C++14)</span></span></span><span class="t-rev-inl t-since-cxx14"><span>a <a href="constant_expression.html" title="cpp/language/constant expression">converted constant expression</a> of type <span class="t-lc"><a href="../types/size_t.html" title="cpp/types/size t">std::size_t</a></span></span><span><span class="t-mark-rev t-since-cxx14">(since C++14)</span></span></span>, which evaluates to a value greater than zero
</td></tr>
<tr class="t-par">
<td> <span class="t-spar">attr</span>
</td>
<td> -
</td>
<td> <span class="t-mark-rev t-since-cxx11">(since C++11)</span> list of <a href="attributes.html" title="cpp/language/attributes">attributes</a>
</td></tr></tbody></table>
<p>A declaration of the form <span class="t-c"><span class="mw-geshi cpp source-cpp">T a<span class="br0">[</span>N<span class="br0">]</span><span class="sy4">;</span></span></span>, declares <span class="t-c"><span class="mw-geshi cpp source-cpp">a</span></span> as an array <a href="object.html" title="cpp/language/object">object</a> that consists of <span class="t-c"><span class="mw-geshi cpp source-cpp">N</span></span> contiguously allocated objects of type <code>T</code>. The elements of an array are numbered <span class="t-c"><span class="mw-geshi cpp source-cpp">​<span class="nu0">0</span>​</span></span>, …, <span class="t-c"><span class="mw-geshi cpp source-cpp">N <span class="sy2">-</span> <span class="nu0">1</span></span></span>, and may be accessed with the <a href="operator_member_access.html#Built-in_subscript_operator" title="cpp/language/operator member access">subscript operator []</a>, as in <span class="t-c"><span class="mw-geshi cpp source-cpp">a<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span></span></span>, …, <span class="t-c"><span class="mw-geshi cpp source-cpp">a<span class="br0">[</span>N <span class="sy2">-</span> <span class="nu0">1</span><span class="br0">]</span></span></span>.
</p><p>Arrays can be constructed from any <a href="types.html" title="cpp/language/types">fundamental type</a> (except <span class="mw-geshi cpp source-cpp"><span class="kw4">void</span></span>), <a href="pointer.html" title="cpp/language/pointer">pointers</a>, <a href="pointer.html" title="cpp/language/pointer">pointers to members</a>, <a href="classes.html" title="cpp/language/classes">classes</a>, <a href="enum.html" title="cpp/language/enum">enumerations</a>, or from other arrays of known bound (in which case the array is said to be multi-dimensional). In other words, only object types except for array types of unknown bound can be element types of array types. Array types of incomplete element type are also incomplete types.
</p>
<table class="t-rev-begin">
<tbody><tr class="t-rev t-since-cxx11"><td>
<p>The <span class="t-rev-inl t-since-cxx20"><span>possibly <a href="constraints.html" title="cpp/language/constraints">constrained</a></span><span><span class="t-mark-rev t-since-cxx20">(since C++20)</span></span></span> <a href="auto.html" title="cpp/language/auto"><code>auto</code></a> specifier can be used as array element type in the declaration of a pointer or reference to array, which deduces the element type from the initializer<span class="t-rev-inl t-since-cxx14"><span> or the function argument</span><span><span class="t-mark-rev t-since-cxx14">(since C++14)</span></span></span>, e.g. <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="kw4">auto</span> <span class="br0">(</span><span class="sy2">*</span>p<span class="br0">)</span><span class="br0">[</span><span class="nu0">42</span><span class="br0">]</span> <span class="sy1">=</span> <span class="sy3">&amp;</span>a<span class="sy4">;</span></span></span> is valid if <span class="t-c"><span class="mw-geshi cpp source-cpp">a</span></span> is an lvalue of type <span class="mw-geshi cpp source-cpp"><span class="kw4">int</span><span class="br0">[</span><span class="nu0">42</span><span class="br0">]</span></span>.
</p>
</td>
<td><span class="t-mark-rev t-since-cxx11">(since C++11)</span></td></tr>
</tbody></table>
<p>There are no arrays of references or arrays of functions.
</p><p>Applying <a href="cv.html" title="cpp/language/cv">cv-qualifiers</a> to an array type (through typedef or template type manipulation) applies the qualifiers to the element type, but any array type whose elements are of cv-qualified type is considered to have the same cv-qualification.
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="co1">// a and b have the same const-qualified type "array of 5 const char"</span>
&nbsp;
<span class="kw1">typedef</span> <span class="kw4">const</span> <span class="kw4">char</span> CC<span class="sy4">;</span>
CC a<span class="br0">[</span><span class="nu0">5</span><span class="br0">]</span> <span class="sy1">=</span> <span class="br0">{</span><span class="br0">}</span><span class="sy4">;</span>
&nbsp;
<span class="kw1">typedef</span> <span class="kw4">char</span> CA<span class="br0">[</span><span class="nu0">5</span><span class="br0">]</span><span class="sy4">;</span>
<span class="kw4">const</span> CA b <span class="sy1">=</span> <span class="br0">{</span><span class="br0">}</span><span class="sy4">;</span></pre></div></div>
<p>When used with <a href="new.html" title="cpp/language/new">new[]-expression</a>, the size of an array may be zero; such an array has no elements:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw4">int</span><span class="sy2">*</span> p <span class="sy1">=</span> new <span class="kw4">int</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><span class="sy4">;</span> <span class="co1">// accessing p[0] or *p is undefined</span>
delete<span class="br0">[</span><span class="br0">]</span> p<span class="sy4">;</span> <span class="co1">// cleanup still required</span></pre></div></div>
<h4><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/array&amp;action=edit&amp;section=2" title="Edit section: Assignment">edit</a>]</span> <span class="mw-headline" id="Assignment">Assignment</span></h4>
<p>Objects of array type cannot be modified as a whole: even though they are <a href="value_category.html#lvalue" title="cpp/language/value category">lvalues</a> (e.g. an address of array can be taken), they cannot appear on the left hand side of an assignment operator:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw4">int</span> a<span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span> <span class="sy1">=</span> <span class="br0">{</span><span class="nu0">1</span>, <span class="nu0">2</span>, <span class="nu0">3</span><span class="br0">}</span>, b<span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span> <span class="sy1">=</span> <span class="br0">{</span><span class="nu0">4</span>, <span class="nu0">5</span>, <span class="nu0">6</span><span class="br0">}</span><span class="sy4">;</span>
<span class="kw4">int</span> <span class="br0">(</span><span class="sy2">*</span>p<span class="br0">)</span><span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span> <span class="sy1">=</span> <span class="sy3">&amp;</span>a<span class="sy4">;</span> <span class="co1">// okay: address of a can be taken</span>
a <span class="sy1">=</span> b<span class="sy4">;</span>            <span class="co1">// error: a is an array</span>
&nbsp;
<span class="kw1">struct</span> <span class="br0">{</span> <span class="kw4">int</span> c<span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span><span class="sy4">;</span> <span class="br0">}</span> s1, s2 <span class="sy1">=</span> <span class="br0">{</span><span class="nu0">3</span>, <span class="nu0">4</span>, <span class="nu0">5</span><span class="br0">}</span><span class="sy4">;</span>
s1 <span class="sy1">=</span> s2<span class="sy4">;</span> <span class="co1">// okay: implicitly-defined copy assignment operator</span>
         <span class="co1">// can assign data members of array type</span></pre></div></div>
<h4><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/array&amp;action=edit&amp;section=3" title="Edit section: Array-to-pointer decay">edit</a>]</span> <span class="mw-headline" id="Array-to-pointer_decay">Array-to-pointer decay</span></h4>
<p>There is an <a href="implicit_conversion.html" title="cpp/language/implicit conversion">implicit conversion</a> from lvalues and rvalues of array type to rvalues of pointer type: it constructs a pointer to the first element of an array. This conversion is used whenever arrays appear in context where arrays are not expected, but pointers are:
</p>
<div class="t-example"><div class="t-example-live-link"><div class="coliru-btn coliru-btn-run-init">Run this code</div></div>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="co2">#include &lt;iostream&gt;</span>
<span class="co2">#include &lt;iterator&gt;</span>
<span class="co2">#include &lt;numeric&gt;</span>
&nbsp;
<span class="kw4">void</span> g<span class="br0">(</span><span class="kw4">int</span> <span class="br0">(</span><span class="sy3">&amp;</span>a<span class="br0">)</span><span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span><span class="br0">)</span>
<span class="br0">{</span>
    <a href="../io/cout.html"><span class="kw1775">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> a<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span> <span class="sy1">&lt;&lt;</span> <span class="st0">'<span class="es1">\n</span>'</span><span class="sy4">;</span>
<span class="br0">}</span>
&nbsp;
<span class="kw4">void</span> f<span class="br0">(</span><span class="kw4">int</span><span class="sy2">*</span> p<span class="br0">)</span>
<span class="br0">{</span>
    <a href="../io/cout.html"><span class="kw1775">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> <span class="sy2">*</span>p <span class="sy1">&lt;&lt;</span> <span class="st0">'<span class="es1">\n</span>'</span><span class="sy4">;</span>
<span class="br0">}</span>
&nbsp;
<span class="kw4">int</span> main<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw4">int</span> a<span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span> <span class="sy1">=</span> <span class="br0">{</span><span class="nu0">1</span>, <span class="nu0">2</span>, <span class="nu0">3</span><span class="br0">}</span><span class="sy4">;</span>
    <span class="kw4">int</span><span class="sy2">*</span> p <span class="sy1">=</span> a<span class="sy4">;</span>
&nbsp;
    <a href="../io/cout.html"><span class="kw1775">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> sizeof a <span class="sy1">&lt;&lt;</span> <span class="st0">'<span class="es1">\n</span>'</span>  <span class="co1">// prints size of array</span>
              <span class="sy1">&lt;&lt;</span> sizeof p <span class="sy1">&lt;&lt;</span> <span class="st0">'<span class="es1">\n</span>'</span><span class="sy4">;</span> <span class="co1">// prints size of a pointer</span>
&nbsp;
    <span class="co1">// where arrays are acceptable, but pointers aren't, only arrays may be used</span>
    g<span class="br0">(</span>a<span class="br0">)</span><span class="sy4">;</span> <span class="co1">// okay: function takes an array by reference</span>
<span class="co1">//  g(p); // error</span>
&nbsp;
    <span class="kw1">for</span> <span class="br0">(</span><span class="kw4">int</span> n <span class="sy4">:</span> a<span class="br0">)</span>            <span class="co1">// okay: arrays can be used in range-for loops</span>
        <a href="../io/cout.html"><span class="kw1775">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> n <span class="sy1">&lt;&lt;</span> <span class="st0">' '</span><span class="sy4">;</span> <span class="co1">// prints elements of the array</span>
<span class="co1">//  for (int n&nbsp;: p)            // error</span>
<span class="co1">//      std::cout &lt;&lt; n &lt;&lt; ' ';</span>
&nbsp;
    <a href="../algorithm/iota.html"><span class="kw1667">std::<span class="me2">iota</span></span></a><span class="br0">(</span><a href="../iterator/begin.html"><span class="kw681">std::<span class="me2">begin</span></span></a><span class="br0">(</span>a<span class="br0">)</span>, <a href="../iterator/end.html"><span class="kw685">std::<span class="me2">end</span></span></a><span class="br0">(</span>a<span class="br0">)</span>, <span class="nu0">7</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// okay: begin and end take arrays</span>
<span class="co1">//  std::iota(std::begin(p), std::end(p), 7); // error</span>
&nbsp;
    <span class="co1">// where pointers are acceptable, but arrays aren't, both may be used:</span>
    f<span class="br0">(</span>a<span class="br0">)</span><span class="sy4">;</span> <span class="co1">// okay: function takes a pointer</span>
    f<span class="br0">(</span>p<span class="br0">)</span><span class="sy4">;</span> <span class="co1">// okay: function takes a pointer</span>
&nbsp;
    <a href="../io/cout.html"><span class="kw1775">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> <span class="sy2">*</span>a <span class="sy1">&lt;&lt;</span> <span class="st0">'<span class="es1">\n</span>'</span> <span class="co1">// prints the first element</span>
              <span class="sy1">&lt;&lt;</span> <span class="sy2">*</span>p <span class="sy1">&lt;&lt;</span> <span class="st0">'<span class="es1">\n</span>'</span> <span class="co1">// same</span>
              <span class="sy1">&lt;&lt;</span> <span class="sy2">*</span><span class="br0">(</span>a <span class="sy2">+</span> <span class="nu0">1</span><span class="br0">)</span> <span class="sy1">&lt;&lt;</span> <span class="st0">' '</span> <span class="sy1">&lt;&lt;</span> a<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span> <span class="sy1">&lt;&lt;</span> <span class="st0">'<span class="es1">\n</span>'</span>  <span class="co1">// prints the second element</span>
              <span class="sy1">&lt;&lt;</span> <span class="sy2">*</span><span class="br0">(</span>p <span class="sy2">+</span> <span class="nu0">1</span><span class="br0">)</span> <span class="sy1">&lt;&lt;</span> <span class="st0">' '</span> <span class="sy1">&lt;&lt;</span> p<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span> <span class="sy1">&lt;&lt;</span> <span class="st0">'<span class="es1">\n</span>'</span><span class="sy4">;</span> <span class="co1">// same</span>
<span class="br0">}</span></pre></div></div>
</div>
<h4><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/array&amp;action=edit&amp;section=4" title="Edit section: Multidimensional arrays">edit</a>]</span> <span class="mw-headline" id="Multidimensional_arrays">Multidimensional arrays</span></h4>
<p>When the element type of an array is another array, it is said that the array is multidimensional:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="co1">// array of 2 arrays of 3 int each</span>
<span class="kw4">int</span> a<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span><span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span> <span class="sy1">=</span> <span class="br0">{</span><span class="br0">{</span><span class="nu0">1</span>, <span class="nu0">2</span>, <span class="nu0">3</span><span class="br0">}</span>,  <span class="co1">// can be viewed as a 2 × 3 matrix</span>
               <span class="br0">{</span><span class="nu0">4</span>, <span class="nu0">5</span>, <span class="nu0">6</span><span class="br0">}</span><span class="br0">}</span><span class="sy4">;</span> <span class="co1">// with row-major layout</span></pre></div></div>
<p>Note that when array-to-pointer decay is applied, a multidimensional array is converted to a pointer to its first element (e.g., a pointer to its first row or to its first plane): array-to-pointer decay is applied only once.
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw4">int</span> a<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span><span class="sy4">;</span>            <span class="co1">// array of 2 int</span>
<span class="kw4">int</span><span class="sy2">*</span> p1 <span class="sy1">=</span> a<span class="sy4">;</span>         <span class="co1">// a decays to a pointer to the first element of a</span>
&nbsp;
<span class="kw4">int</span> b<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span><span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span><span class="sy4">;</span>         <span class="co1">// array of 2 arrays of 3 int</span>
<span class="co1">// int** p2 = b;     // error: b does not decay to int**</span>
<span class="kw4">int</span> <span class="br0">(</span><span class="sy2">*</span>p2<span class="br0">)</span><span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span> <span class="sy1">=</span> b<span class="sy4">;</span>    <span class="co1">// b decays to a pointer to the first 3-element row of b</span>
&nbsp;
<span class="kw4">int</span> c<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span><span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span><span class="br0">[</span><span class="nu0">4</span><span class="br0">]</span><span class="sy4">;</span>      <span class="co1">// array of 2 arrays of 3 arrays of 4 int</span>
<span class="co1">// int*** p3 = c;    // error: c does not decay to int***</span>
<span class="kw4">int</span> <span class="br0">(</span><span class="sy2">*</span>p3<span class="br0">)</span><span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span><span class="br0">[</span><span class="nu0">4</span><span class="br0">]</span> <span class="sy1">=</span> c<span class="sy4">;</span> <span class="co1">// c decays to a pointer to the first 3 × 4-element plane of c</span></pre></div></div>
<h4><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/array&amp;action=edit&amp;section=5" title="Edit section: Arrays of unknown bound">edit</a>]</span> <span class="mw-headline" id="Arrays_of_unknown_bound">Arrays of unknown bound</span></h4>
<p>If <span class="t-spar">expr</span> is omitted in the declaration of an array, the type declared is "array of unknown bound of T", which is a kind of <a href="type%23Incomplete_type.html" title="cpp/language/incomplete type" class="mw-redirect">incomplete type</a>, except when used in a declaration with an <a href="aggregate_initialization.html" title="cpp/language/aggregate initialization">aggregate initializer</a>:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw4">extern</span> <span class="kw4">int</span> x<span class="br0">[</span><span class="br0">]</span><span class="sy4">;</span>      <span class="co1">// the type of x is "array of unknown bound of int"</span>
<span class="kw4">int</span> a<span class="br0">[</span><span class="br0">]</span> <span class="sy1">=</span> <span class="br0">{</span><span class="nu0">1</span>, <span class="nu0">2</span>, <span class="nu0">3</span><span class="br0">}</span><span class="sy4">;</span> <span class="co1">// the type of a is "array of 3 int"</span></pre></div></div>
<p>Because array elements cannot be arrays of unknown bound, multidimensional arrays cannot have unknown bound in a dimension other than the first:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw4">extern</span> <span class="kw4">int</span> a<span class="br0">[</span><span class="br0">]</span><span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span><span class="sy4">;</span> <span class="co1">// okay: array of unknown bound of arrays of 2 int</span>
<span class="kw4">extern</span> <span class="kw4">int</span> b<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span><span class="br0">[</span><span class="br0">]</span><span class="sy4">;</span> <span class="co1">// error: array has incomplete element type</span></pre></div></div>
<p>If there is a preceding declaration of the entity in the same scope in which the bound was specified, an omitted array bound is taken to be the same as in that earlier declaration, and similarly for the definition of a static data member of a class:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw4">extern</span> <span class="kw4">int</span> x<span class="br0">[</span><span class="nu0">10</span><span class="br0">]</span><span class="sy4">;</span>
<span class="kw1">struct</span> S
<span class="br0">{</span>
    <span class="kw4">static</span> <span class="kw4">int</span> y<span class="br0">[</span><span class="nu0">10</span><span class="br0">]</span><span class="sy4">;</span>
<span class="br0">}</span><span class="sy4">;</span>
&nbsp;
<span class="kw4">int</span> x<span class="br0">[</span><span class="br0">]</span><span class="sy4">;</span>               <span class="co1">// OK: bound is 10</span>
<span class="kw4">int</span> S<span class="sy4">::</span><span class="me2">y</span><span class="br0">[</span><span class="br0">]</span><span class="sy4">;</span>            <span class="co1">// OK: bound is 10</span>
&nbsp;
<span class="kw4">void</span> f<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw4">extern</span> <span class="kw4">int</span> x<span class="br0">[</span><span class="br0">]</span><span class="sy4">;</span>
    <span class="kw4">int</span> i <span class="sy1">=</span> sizeof<span class="br0">(</span>x<span class="br0">)</span><span class="sy4">;</span> <span class="co1">// error: incomplete object type</span>
<span class="br0">}</span></pre></div></div>
<p>References and pointers to arrays of unknown bound can be formed, <span class="t-rev-inl t-until-cxx20"><span>but cannot</span><span><span class="t-mark-rev t-until-cxx20">(until C++20)</span></span></span><span class="t-rev-inl t-since-cxx20"><span>and can</span><span><span class="t-mark-rev t-since-cxx20">(since C++20)</span></span></span> be initialized or assigned from arrays and pointers to arrays of known bound. Note that in the C programming language, pointers to arrays of unknown bound are compatible with pointers to arrays of known bound and are thus convertible and assignable in both directions.
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw4">extern</span> <span class="kw4">int</span> a1<span class="br0">[</span><span class="br0">]</span><span class="sy4">;</span>
&nbsp;
<span class="kw4">int</span> <span class="br0">(</span><span class="sy3">&amp;</span>r1<span class="br0">)</span><span class="br0">[</span><span class="br0">]</span> <span class="sy1">=</span> a1<span class="sy4">;</span>  <span class="co1">// okay</span>
<span class="kw4">int</span> <span class="br0">(</span><span class="sy2">*</span>p1<span class="br0">)</span><span class="br0">[</span><span class="br0">]</span> <span class="sy1">=</span> <span class="sy3">&amp;</span>a1<span class="sy4">;</span> <span class="co1">// okay</span>
<span class="kw4">int</span> <span class="br0">(</span><span class="sy2">*</span>q<span class="br0">)</span><span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span> <span class="sy1">=</span> <span class="sy3">&amp;</span>a1<span class="sy4">;</span> <span class="co1">// error (but okay in C)</span>
&nbsp;
<span class="kw4">int</span> a2<span class="br0">[</span><span class="br0">]</span> <span class="sy1">=</span> <span class="br0">{</span><span class="nu0">1</span>, <span class="nu0">2</span>, <span class="nu0">3</span><span class="br0">}</span><span class="sy4">;</span>
<span class="kw4">int</span> <span class="br0">(</span><span class="sy3">&amp;</span>r2<span class="br0">)</span><span class="br0">[</span><span class="br0">]</span> <span class="sy1">=</span> a2<span class="sy4">;</span>  <span class="co1">// okay (since C++20)</span>
<span class="kw4">int</span> <span class="br0">(</span><span class="sy2">*</span>p2<span class="br0">)</span><span class="br0">[</span><span class="br0">]</span> <span class="sy1">=</span> <span class="sy3">&amp;</span>a2<span class="sy4">;</span> <span class="co1">// okay (since C++20)</span></pre></div></div>
<p>Pointers to arrays of unknown bound cannot participate in <a href="operator_arithmetic.html#Additive_operators" title="cpp/language/operator arithmetic">pointer arithmetic</a> and cannot be used on the left of the <a href="operator_member_access.html#Built-in_subscript_operator" title="cpp/language/operator member access">subscript operator</a>, but can be dereferenced.
</p>
<h4><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/array&amp;action=edit&amp;section=6" title="Edit section: Array rvalues">edit</a>]</span> <span class="mw-headline" id="Array_rvalues">Array rvalues</span></h4>
<p>Although arrays cannot be returned from functions by value and cannot be targets of most cast expressions, array <a href="value_category.html" title="cpp/language/value category">prvalues</a> may be formed by using a type alias to construct an array temporary using <a href="explicit_cast.html" title="cpp/language/explicit cast">brace-initialized functional cast</a>.
</p>
<table class="t-rev-begin">
<tbody><tr class="t-rev t-since-cxx17"><td>
<p>Like class prvalues, array prvalues convert to xvalues by <a href="implicit_conversion.html#Temporary_materialization" title="cpp/language/implicit conversion">temporary materialization</a> when evaluated.
</p>
</td>
<td><span class="t-mark-rev t-since-cxx17">(since C++17)</span></td></tr>
</tbody></table>
<p>Array <a href="value_category.html" title="cpp/language/value category">xvalues</a> may be formed directly by accessing an array member of a class rvalue or by using <span class="t-lc">std::move</span> or another cast or function call that returns an rvalue reference. 
</p>
<div class="t-example"><div class="t-example-live-link"><div class="coliru-btn coliru-btn-run-init">Run this code</div></div>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="co2">#include &lt;iostream&gt;</span>
<span class="co2">#include &lt;type_traits&gt;</span>
<span class="co2">#include &lt;utility&gt;</span>
&nbsp;
<span class="kw4">void</span> f<span class="br0">(</span><span class="kw4">int</span> <span class="br0">(</span><span class="sy3">&amp;&amp;</span>x<span class="br0">)</span><span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span><span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span><span class="br0">)</span>
<span class="br0">{</span>
    <a href="../io/cout.html"><span class="kw1775">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> sizeof x <span class="sy1">&lt;&lt;</span> <span class="st0">'<span class="es1">\n</span>'</span><span class="sy4">;</span>
<span class="br0">}</span>
&nbsp;
<span class="kw1">struct</span> X
<span class="br0">{</span>
    <span class="kw4">int</span> i<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span><span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span><span class="sy4">;</span>
<span class="br0">}</span> x<span class="sy4">;</span>
&nbsp;
<span class="kw1">template</span><span class="sy1">&lt;</span><span class="kw1">typename</span> T<span class="sy1">&gt;</span>
<span class="kw1">using</span> identity <span class="sy1">=</span> T<span class="sy4">;</span>
&nbsp;
<span class="kw4">int</span> main<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <a href="../io/cout.html"><span class="kw1775">std::<span class="me2">cout</span></span></a> <span class="sy1">&lt;&lt;</span> sizeof X<span class="br0">(</span><span class="br0">)</span>.<span class="me1">i</span> <span class="sy1">&lt;&lt;</span> <span class="st0">'<span class="es1">\n</span>'</span><span class="sy4">;</span>           <span class="co1">// size of the array</span>
    f<span class="br0">(</span>X<span class="br0">(</span><span class="br0">)</span>.<span class="me1">i</span><span class="br0">)</span><span class="sy4">;</span>                                    <span class="co1">// okay: binds to xvalue</span>
<span class="co1">//  f(x.i);                                      // error: cannot bind to lvalue</span>
&nbsp;
    <span class="kw4">int</span> a<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span><span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span><span class="sy4">;</span>
    f<span class="br0">(</span>std<span class="sy4">::</span><span class="me2">move</span><span class="br0">(</span>a<span class="br0">)</span><span class="br0">)</span><span class="sy4">;</span>                             <span class="co1">// okay: binds to xvalue</span>
&nbsp;
    <span class="kw1">using</span> arr_t <span class="sy1">=</span> <span class="kw4">int</span><span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span><span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span><span class="sy4">;</span>
    f<span class="br0">(</span>arr_t<span class="br0">{</span><span class="br0">}</span><span class="br0">)</span><span class="sy4">;</span>                                  <span class="co1">// okay: binds to prvalue</span>
    f<span class="br0">(</span>identity<span class="sy1">&lt;</span><span class="kw4">int</span><span class="br0">[</span><span class="br0">]</span><span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span><span class="sy1">&gt;</span><span class="br0">{</span><span class="br0">{</span><span class="nu0">1</span>, <span class="nu0">2</span>, <span class="nu0">3</span><span class="br0">}</span>, <span class="br0">{</span><span class="nu0">4</span>, <span class="nu0">5</span>, <span class="nu0">6</span><span class="br0">}</span><span class="br0">}</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// okay: binds to prvalue</span>
&nbsp;
<span class="br0">}</span></pre></div></div>
<p>Output:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="text source-text"><pre class="de1">24
24
24
24
24</pre></div></div> 
</div>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/array&amp;action=edit&amp;section=7" title="Edit section: Defect reports">edit</a>]</span> <span class="mw-headline" id="Defect_reports">Defect reports</span></h3>
<p>The following behavior-changing defect reports were applied retroactively to previously published C++ standards.
</p>
<table class="dsctable" style="font-size:0.8em">
<tbody><tr>
<th>DR
</th>
<th>Applied to
</th>
<th>Behavior as published
</th>
<th>Correct behavior
</th></tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/393.html">CWG 393</a>
</td>
<td>C++98
</td>
<td>a pointer or reference to an array of unknown<br>bound could not be a function parameter
</td>
<td>allowed
</td></tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/619.html">CWG 619</a>
</td>
<td>C++98
</td>
<td>when omitted, the bound of an array could<br>not be inferred from a previous declaration
</td>
<td>inference allowed
</td></tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/2099.html">CWG 2099</a>
</td>
<td>C++98
</td>
<td>the bound of an array static data member could<br>not be omitted even if an initializer is provided
</td>
<td>omission allowed
</td></tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/2397.html">CWG 2397</a>
</td>
<td>C++11
</td>
<td><span class="mw-geshi cpp source-cpp"><span class="kw4">auto</span></span> could not be used as element type
</td>
<td>allowed
</td></tr></tbody></table>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/array&amp;action=edit&amp;section=8" title="Edit section: See also">edit</a>]</span> <span class="mw-headline" id="See_also">See also</span></h3>
<table class="t-dsc-begin">

<tbody><tr class="t-dsc">
<td colspan="2"> <div class="t-dsc-see"><span><a href="https://en.cppreference.com/w/c/language/array" title="c/language/array">C documentation</a></span> for <span class=""><span>Array declaration</span></span></div>
</td></tr>

</tbody></table>

<!-- 
NewPP limit report
Preprocessor visited node count: 5273/1000000
Preprocessor generated node count: 11064/1000000
Post‐expand include size: 188474/4194304 bytes
Template argument size: 33872/4194304 bytes
Highest expansion depth: 16/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key mwiki1-mwiki_en_:pcache:idhash:9956-0!*!0!!en!*!* and timestamp 20250103110103 -->
</div>                    <!-- /bodycontent -->
                                        <!-- printfooter -->
                    <div class="printfooter">
                    Retrieved from "<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/array&amp;oldid=170589">https://en.cppreference.com/mwiki/index.php?title=cpp/language/array&amp;oldid=170589</a>"                    </div>
                    <!-- /printfooter -->
                                                            <!-- catlinks -->
                    <div id="catlinks" class="catlinks catlinks-allhidden"></div>                    <!-- /catlinks -->
                                                            <div class="visualClear"></div>
                    <!-- debughtml -->
                                        <!-- /debughtml -->
                </div>
                <!-- /bodyContent -->
            </div>
        </div>
        <!-- /content -->
        <!-- footer -->
        
        <!-- /footer -->
        <script>if(window.mw){
mw.loader.state({"site":"loading","user":"missing","user.groups":"ready"});
}</script>
<script src="https://en.cppreference.com/mwiki/load.php?debug=false&amp;lang=en&amp;modules=skins.cppreference2&amp;only=scripts&amp;skin=cppreference2&amp;*"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.page.ready","mediawiki.searchSuggest","mediawiki.hidpi","ext.gadget.ColiruCompiler","ext.gadget.StandardRevisions","ext.gadget.MathJax"], null, true);
}</script>
<script src="https://en.cppreference.com/mwiki/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=cppreference2&amp;*"></script>
<!-- Served in 5.682 secs. -->
	




</body><!-- Cached 20250103110103 --><!-- Mirrored from en.cppreference.com/w/cpp/language/array by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 29 Jan 2025 11:35:50 GMT --></html>