<!DOCTYPE html><html lang="en" dir="ltr" class="client-nojs"><!-- Mirrored from en.cppreference.com/w/cpp/language/access by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 29 Jan 2025 11:35:35 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=UTF-8"><!-- /Added by HTTrack -->

<title>Access specifiers</title>
<meta charset="UTF-8">
<meta name="generator" content="MediaWiki 1.21.2">







<meta name="ResourceLoaderDynamicStyles" content="">

<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}#toc{display:none}.editsection{display:none}
/* cache key: mwiki1-mwiki_en_:resourceloader:filter:minify-css:7:472787eddcf4605d11de8c7ef047234f */</style>




<style type="text/css">/*<![CDATA[*/
.source-cpp {line-height: normal;}
.source-cpp li, .source-cpp pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for cpp
 * CSS class: source-cpp, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.cpp.source-cpp .de1, .cpp.source-cpp .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;}
.cpp.source-cpp  {font-family:monospace;}
.cpp.source-cpp .imp {font-weight: bold; color: red;}
.cpp.source-cpp li, .cpp.source-cpp .li1 {font-weight: normal; vertical-align:top;}
.cpp.source-cpp .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.cpp.source-cpp .li2 {font-weight: bold; vertical-align:top;}
.cpp.source-cpp .kw1 {color: #0000dd;}
.cpp.source-cpp .kw2 {color: #0000ff;}
.cpp.source-cpp .kw3 {color: #0000dd;}
.cpp.source-cpp .kw4 {color: #0000ff;}
.cpp.source-cpp .co1 {color: #909090;}
.cpp.source-cpp .co2 {color: #339900;}
.cpp.source-cpp .coMULTI {color: #ff0000; font-style: italic;}
.cpp.source-cpp .es0 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es1 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es2 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es3 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es4 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es5 {color: #008000; font-weight: bold;}
.cpp.source-cpp .br0 {color: #008000;}
.cpp.source-cpp .sy0 {color: #008000;}
.cpp.source-cpp .sy1 {color: #000080;}
.cpp.source-cpp .sy2 {color: #000040;}
.cpp.source-cpp .sy3 {color: #000040;}
.cpp.source-cpp .sy4 {color: #008080;}
.cpp.source-cpp .st0 {color: #008000;}
.cpp.source-cpp .nu0 {color: #000080;}
.cpp.source-cpp .nu6 {color: #000080;}
.cpp.source-cpp .nu8 {color: #000080;}
.cpp.source-cpp .nu12 {color: #000080;}
.cpp.source-cpp .nu16 {color:#000080;}
.cpp.source-cpp .nu17 {color:#000080;}
.cpp.source-cpp .nu18 {color:#000080;}
.cpp.source-cpp .nu19 {color:#000080;}
.cpp.source-cpp .ln-xtra, .cpp.source-cpp li.ln-xtra, .cpp.source-cpp div.ln-xtra {background-color: #ffc;}
.cpp.source-cpp span.xtra { display:block; }

/*]]>*/
</style><!--[if lt IE 7]><style type="text/css">body{behavior:url("/mwiki/skins/cppreference2/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-cpp_language_access skin-cppreference2 action-view cpp-navbar">
        <!-- header -->
        
        <!-- /header -->
        <!-- content -->
<style type="text/css">
#carbonads {
  display: block;
  overflow: hidden;
  position: absolute;
  text-align: center;
  left: -170px;
  max-width: 150px;
  border-radius: 4px;
  border: solid 1px hsla(0, 0%, 0%, .1);
  background-color: hsl(0, 0%, 98%);
  font-size: 12px;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu,
  Cantarell, "Helvetica Neue", Helvetica, Arial, sans-serif;
  line-height: 1.5;
}

#carbonads a {
  color: inherit;
  text-decoration: none;
}

#carbonads a:hover {
  color: inherit;
}

#carbonads span {
  position: relative;
  display: block;
  overflow: hidden;
}

.carbon-img {
  display: block;
  margin-bottom: 8px;
  max-width: 150px;
  line-height: 1;
}

.carbon-img img {
  display: block;
  margin: 0 auto;
  max-width: 150px !important;
  width: 150px;
  height: auto;
}

.carbon-text {
  display: block;
  padding: 0 1em 8px;
}

.carbon-poweredby {
  display: block;
  padding: 8px 12px;
  background: repeating-linear-gradient(-45deg, transparent, transparent 5px, hsla(0, 0%, 0%, .025) 5px, hsla(0, 0%, 0%, .025) 10px) hsla(203, 11%, 95%, .4);
  text-transform: uppercase;
  letter-spacing: .5px;
  font-weight: 600;
  font-size: 9px;
  line-height: 1;
}
html { font-variant-ligatures: no-common-ligatures; }
</style>
        <div id="cpp-content-base">
            <div id="content">
                <a id="top"></a>
                <div id="mw-js-message" style="display:none;"></div>
                                <!-- firstHeading -->
<script async type="text/javascript" src="http://cdn.carbonads.com/carbon.js?serve=CKYITK7M&amp;placement=cppreferencecom" id="_carbonads_js"></script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-8HW0LXMYCY"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8HW0LXMYCY');
</script>
                <h1 id="firstHeading" class="firstHeading">Access specifiers</h1>
                <!-- /firstHeading -->
                <!-- bodyContent -->
                <div id="bodyContent">
                                        <!-- tagline -->
                    
                    <!-- /tagline -->
                                        <!-- subtitle -->
                    
                    <!-- /subtitle -->
                                                            <!-- bodycontent -->
                    <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<p>In a <span class="t-spar">member-specification</span> of a <a href="class.html" title="cpp/language/class">class/struct</a> or <a href="union.html" title="cpp/language/union">union</a>, define the accessibility of subsequent members.
</p><p>In a <span class="t-spar">base-specifier</span> of a <a href="derived_class.html" title="cpp/language/derived class">derived class</a> declaration, define the accessibility of inherited members of the subsequent base class.
</p>
<table id="toc" class="toc"><tbody><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Syntax"><span class="tocnumber">1</span> <span class="toctext">Syntax</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Explanation"><span class="tocnumber">2</span> <span class="toctext">Explanation</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#In_detail"><span class="tocnumber">3</span> <span class="toctext">In detail</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Public_member_access"><span class="tocnumber">4</span> <span class="toctext">Public member access</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Protected_member_access"><span class="tocnumber">5</span> <span class="toctext">Protected member access</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Private_member_access"><span class="tocnumber">6</span> <span class="toctext">Private member access</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Inheritance"><span class="tocnumber">7</span> <span class="toctext">Inheritance</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Keywords"><span class="tocnumber">8</span> <span class="toctext">Keywords</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Defect_reports"><span class="tocnumber">9</span> <span class="toctext">Defect reports</span></a></li>
</ul>
</td></tr></tbody></table>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/access&amp;action=edit&amp;section=1" title="Edit section: Syntax">edit</a>]</span> <span class="mw-headline" id="Syntax">Syntax</span></h3>
<table class="t-sdsc-begin">

<tbody><tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <code><b>public</b></code> <code><b>:</b></code> <span class="t-spar">member-declarations</span>
</td>
<td> (1)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <code><b>protected</b></code> <code><b>:</b></code> <span class="t-spar">member-declarations</span>
</td>
<td> (2)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <code><b>private</b></code> <code><b>:</b></code> <span class="t-spar">member-declarations</span>
</td>
<td> (3)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="kw1">public</span></span></span> <span class="t-spar">base-class</span>
</td>
<td> (4)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="kw1">protected</span></span></span> <span class="t-spar">base-class</span>
</td>
<td> (5)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="kw1">private</span></span></span> <span class="t-spar">base-class</span>
</td>
<td> (6)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr></tbody></table>
<div class="t-li1"><span class="t-li">1)</span> The members declared after the access specifier have public member access.</div>
<div class="t-li1"><span class="t-li">2)</span> The members declared after the access specifier have protected member access.</div>
<div class="t-li1"><span class="t-li">3)</span> The members declared after the access specifier have private member access.</div>
<div class="t-li1"><span class="t-li">4)</span> <a href="derived_class.html#Public_inheritance" title="cpp/language/derived class">Public inheritance</a>: the public and protected members of the <a href="derived_class.html" title="cpp/language/derived class">base class</a> listed after the access specifier keep their member access in the derived class.</div>
<div class="t-li1"><span class="t-li">5)</span> <a href="derived_class.html#Protected_inheritance" title="cpp/language/derived class">Protected inheritance</a>: the public and protected members of the <a href="derived_class.html" title="cpp/language/derived class">base class</a> listed after the access specifier are protected members of the derived class.</div>
<div class="t-li1"><span class="t-li">6)</span> <a href="derived_class.html#Private_inheritance" title="cpp/language/derived class">Private inheritance</a>: the public and protected members of the <a href="derived_class.html" title="cpp/language/derived class">base class</a> listed after the access specifier are private members of the derived class.</div>
<p>The private members of the base class are always inaccessible to the derived class regardless of public, protected, or private inheritance.
</p>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/access&amp;action=edit&amp;section=2" title="Edit section: Explanation">edit</a>]</span> <span class="mw-headline" id="Explanation">Explanation</span></h3>
<p>The name of every <a href="class.html" title="cpp/language/class">class</a> member (static, non-static, function, type, etc) has an associated "member access". When a name of the member is used anywhere a program, its access is checked, and if it does not satisfy the access rules, the program does not compile:
</p>
<div class="t-example"><div class="t-example-live-link"><div class="coliru-btn coliru-btn-run-init">Run this code</div></div>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="co2">#include &lt;iostream&gt;</span>
&nbsp;
<span class="kw1">class</span> Example
<span class="br0">{</span>
<span class="kw1">public</span><span class="sy4">:</span>             <span class="co1">// all declarations after this point are public</span>
    <span class="kw4">void</span> add<span class="br0">(</span><span class="kw4">int</span> x<span class="br0">)</span> <span class="co1">// member "add" has public access</span>
    <span class="br0">{</span>
        n <span class="sy2">+</span><span class="sy1">=</span> x<span class="sy4">;</span>     <span class="co1">// OK: private Example::n can be accessed from Example::add</span>
    <span class="br0">}</span>
<span class="kw1">private</span><span class="sy4">:</span>            <span class="co1">// all declarations after this point are private</span>
    <span class="kw4">int</span> n <span class="sy1">=</span> <span class="nu0">0</span><span class="sy4">;</span>      <span class="co1">// member "n" has private access</span>
<span class="br0">}</span><span class="sy4">;</span>
&nbsp;
<span class="kw4">int</span> main<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    Example e<span class="sy4">;</span>
    e.<span class="me1">add</span><span class="br0">(</span><span class="nu0">1</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// OK: public Example::add can be accessed from main</span>
<span class="co1">//  e.n = 7;  // error: private Example::n cannot be accessed from main</span>
<span class="br0">}</span></pre></div></div>
</div>
<p>Access specifiers give the author of the class the ability to decide which class members are accessible to the users of the class (that is, the <i>interface</i>) and which members are for internal use of the class (the <i>implementation</i>).
</p>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/access&amp;action=edit&amp;section=3" title="Edit section: In detail">edit</a>]</span> <span class="mw-headline" id="In_detail">In detail</span></h3>
<p>All members of a class (bodies of <a href="member_functions.html" title="cpp/language/member functions">member functions</a>, initializers of member objects, and the entire <a href="nested_types.html" title="cpp/language/nested types">nested class definitions</a>) have access to all names the class can access. A local class within a member function has access to all names the member function can access. 
</p><p>A class defined with the keyword <code>class</code> has private access for its members and its base classes by default. A class defined with the keyword <code>struct</code> has public access for its members and its base classes by default. A <a href="union.html" title="cpp/language/union">union</a> has public access for its members by default.
</p><p>To grant access to additional functions or classes to protected or private members, a <a href="friend.html" title="cpp/language/friend">friendship declaration</a> may be used.
</p><p>Accessibility applies to all names with no regard to their origin, so a name introduced by a <a href="typedef.html" title="cpp/language/typedef">typedef</a> or <a href="using_declaration.html" title="cpp/language/using declaration">using declarations</a> (except inheriting constructors) is checked, not the name it refers to:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw1">class</span> A <span class="sy4">:</span> X
<span class="br0">{</span>
    <span class="kw1">class</span> B <span class="br0">{</span><span class="br0">}</span><span class="sy4">;</span>   <span class="co1">// B is private in A</span>
<span class="kw1">public</span><span class="sy4">:</span>
    <span class="kw1">typedef</span> B BB<span class="sy4">;</span> <span class="co1">// BB is public</span>
<span class="br0">}</span><span class="sy4">;</span>
&nbsp;
<span class="kw4">void</span> f<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    A<span class="sy4">::</span><span class="me2">B</span> y<span class="sy4">;</span>  <span class="co1">// error: A::B is private</span>
    A<span class="sy4">::</span><span class="me2">BB</span> x<span class="sy4">;</span> <span class="co1">// OK: A::BB is public</span>
<span class="br0">}</span></pre></div></div>
<p>Member access does not affect visibility: names of private and privately-inherited members are visible and considered by overload resolution, implicit conversions to inaccessible base classes are still considered, etc. Member access check is the last step after any given language construct is interpreted. The intent of this rule is that replacing any <code>private</code> with <code>public</code> never alters the behavior of the program.
</p><p>Access checking for the names used in <a href="default_arguments.html" title="cpp/language/default arguments">default function arguments</a> as well as in the default <a href="template_parameters.html#Default_template_arguments" title="cpp/language/template parameters">template parameters</a> is performed at the point of declaration, not at the point of use.
</p><p>Access rules for the names of <a href="virtual.html" title="cpp/language/virtual">virtual functions</a> are checked at the call point using the type of the expression used to denote the object for which the member function is called. The access of the final overrider is ignored:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw1">struct</span> B
<span class="br0">{</span>
    <span class="kw1">virtual</span> <span class="kw4">int</span> f<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// f is public in B</span>
<span class="br0">}</span><span class="sy4">;</span>
&nbsp;
<span class="kw1">class</span> D <span class="sy4">:</span> <span class="kw1">public</span> B
<span class="br0">{</span>
<span class="kw1">private</span><span class="sy4">:</span>
    <span class="kw4">int</span> f<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// f is private in D</span>
<span class="br0">}</span><span class="sy4">;</span>
&nbsp;
<span class="kw4">void</span> f<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    D d<span class="sy4">;</span>
    B<span class="sy3">&amp;</span> b <span class="sy1">=</span> d<span class="sy4">;</span>
&nbsp;
    b.<span class="me1">f</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// OK: B::f is public, D::f is invoked even though it's private</span>
    d.<span class="me1">f</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// error: D::f is private</span>
<span class="br0">}</span></pre></div></div>
<p>A name that is private according to unqualified <a href="lookup.html" title="cpp/language/lookup">name lookup</a>, may be accessible through qualified name lookup:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw1">class</span> A <span class="br0">{</span><span class="br0">}</span><span class="sy4">;</span>
&nbsp;
<span class="kw1">class</span> B <span class="sy4">:</span> <span class="kw1">private</span> A <span class="br0">{</span><span class="br0">}</span><span class="sy4">;</span>
&nbsp;
<span class="kw1">class</span> C <span class="sy4">:</span> <span class="kw1">public</span> B
<span class="br0">{</span>
    A<span class="sy2">*</span> p<span class="sy4">;</span>   <span class="co1">// error: unqualified name lookup finds A as the private base of B</span>
    <span class="sy4">::</span><span class="me2">A</span><span class="sy2">*</span> q<span class="sy4">;</span> <span class="co1">// OK: qualified name lookup finds the namespace-level declaration</span>
<span class="br0">}</span><span class="sy4">;</span></pre></div></div>
<p>A name that is accessible through multiple paths in the inheritance graph has the access of the path with the most access:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw1">class</span> W
<span class="br0">{</span>
<span class="kw1">public</span><span class="sy4">:</span>
    <span class="kw4">void</span> f<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span><span class="sy4">;</span>
&nbsp;
<span class="kw1">class</span> A <span class="sy4">:</span> <span class="kw1">private</span> <span class="kw1">virtual</span> W <span class="br0">{</span><span class="br0">}</span><span class="sy4">;</span>
&nbsp;
<span class="kw1">class</span> B <span class="sy4">:</span> <span class="kw1">public</span> <span class="kw1">virtual</span> W <span class="br0">{</span><span class="br0">}</span><span class="sy4">;</span>
&nbsp;
<span class="kw1">class</span> C <span class="sy4">:</span> <span class="kw1">public</span> A, <span class="kw1">public</span> B
<span class="br0">{</span>
    <span class="kw4">void</span> f<span class="br0">(</span><span class="br0">)</span>
    <span class="br0">{</span>
        W<span class="sy4">::</span><span class="me2">f</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// OK: W is accessible to C through B</span>
    <span class="br0">}</span>
<span class="br0">}</span><span class="sy4">;</span></pre></div></div>
<p>Any number of access specifiers may appear within a class, in any order. Member access specifiers may affect class layout: the addresses of non-static <a href="data_members.html#Layout" title="cpp/language/data members">data members</a> are only guaranteed to increase in order of declaration for the members <span class="t-rev-inl t-until-cxx11"><span>not separated by an access specifier</span><span><span class="t-mark-rev t-until-cxx11">(until C++11)</span></span></span><span class="t-rev-inl t-since-cxx11"><span>with the same access</span><span><span class="t-mark-rev t-since-cxx11">(since C++11)</span></span></span>.
</p>
<table class="t-rev-begin">
<tbody><tr class="t-rev t-since-cxx11"><td>
<p>For <a href="../named_req/StandardLayoutType.html" title="cpp/named req/StandardLayoutType">standard-layout types</a>, all non-static data members must have the same access.
</p>
</td>
<td><span class="t-mark-rev t-since-cxx11">(since C++11)</span></td></tr>
</tbody></table>
<p>When a member is redeclared within the same class, it must do so under the same member access:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw1">struct</span> S
<span class="br0">{</span>
    <span class="kw1">class</span> A<span class="sy4">;</span>    <span class="co1">// S::A is public</span>
<span class="kw1">private</span><span class="sy4">:</span>
    <span class="kw1">class</span> A <span class="br0">{</span><span class="br0">}</span><span class="sy4">;</span> <span class="co1">// error: cannot change access</span>
<span class="br0">}</span><span class="sy4">;</span></pre></div></div>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/access&amp;action=edit&amp;section=4" title="Edit section: Public member access">edit</a>]</span> <span class="mw-headline" id="Public_member_access">Public member access</span></h3>
<p>Public members form a part of the public interface of a class (other parts of the public interface are the non-member functions found by <a href="adl.html" title="cpp/language/adl">ADL</a>).
</p><p>A public member of a class is accessible anywhere:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw1">class</span> S
<span class="br0">{</span>
<span class="kw1">public</span><span class="sy4">:</span>
    <span class="co1">// n, E, A, B, C, U, f are public members</span>
    <span class="kw4">int</span> n<span class="sy4">;</span>
    <span class="kw2">enum</span> E <span class="br0">{</span>A, B, C<span class="br0">}</span><span class="sy4">;</span>
    <span class="kw1">struct</span> U <span class="br0">{</span><span class="br0">}</span><span class="sy4">;</span>
    <span class="kw4">static</span> <span class="kw4">void</span> f<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><span class="br0">}</span>
<span class="br0">}</span><span class="sy4">;</span>
&nbsp;
<span class="kw4">int</span> main<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    S<span class="sy4">::</span><span class="me2">f</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>     <span class="co1">// S::f is accessible in main</span>
&nbsp;
    S s<span class="sy4">;</span>
    s.<span class="me1">n</span> <span class="sy1">=</span> S<span class="sy4">::</span><span class="me2">B</span><span class="sy4">;</span> <span class="co1">// S::n and S::B are accessible in main</span>
&nbsp;
    S<span class="sy4">::</span><span class="me2">U</span> x<span class="sy4">;</span>     <span class="co1">// S::U is accessible in main</span>
<span class="br0">}</span></pre></div></div>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/access&amp;action=edit&amp;section=5" title="Edit section: Protected member access">edit</a>]</span> <span class="mw-headline" id="Protected_member_access">Protected member access</span></h3>
<p>Protected members form the interface of a class to its derived classes (which is distinct from the public interface of the class).
</p><p>A protected member of a class is only accessible
</p>
<div class="t-li1"><span class="t-li">1)</span> to the members and friends of that class;</div>
<div class="t-li1"><span class="t-li">2)</span> to the members and friends of any derived class of that class, but only when the class of the object through which the protected member is accessed is that derived class or a derived class of that derived class:</div>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw1">struct</span> Base
<span class="br0">{</span>
<span class="kw1">protected</span><span class="sy4">:</span>
    <span class="kw4">int</span> i<span class="sy4">;</span>
<span class="kw1">private</span><span class="sy4">:</span>
    <span class="kw4">void</span> g<span class="br0">(</span>Base<span class="sy3">&amp;</span> b, <span class="kw1">struct</span> Derived<span class="sy3">&amp;</span> d<span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span><span class="sy4">;</span>
&nbsp;
<span class="kw1">struct</span> Derived <span class="sy4">:</span> Base
<span class="br0">{</span>
    <span class="kw1">friend</span> <span class="kw4">void</span> h<span class="br0">(</span>Base<span class="sy3">&amp;</span> b, Derived<span class="sy3">&amp;</span> d<span class="br0">)</span><span class="sy4">;</span>
    <span class="kw4">void</span> f<span class="br0">(</span>Base<span class="sy3">&amp;</span> b, Derived<span class="sy3">&amp;</span> d<span class="br0">)</span> <span class="co1">// member function of a derived class</span>
    <span class="br0">{</span>
        <span class="sy2">++</span>d.<span class="me1">i</span><span class="sy4">;</span>                  <span class="co1">// OK: the type of d is Derived</span>
        <span class="sy2">++</span>i<span class="sy4">;</span>                    <span class="co1">// OK: the type of the implied '*this' is Derived</span>
<span class="co1">//      ++b.i;                  // error: can't access a protected member through</span>
                                <span class="co1">// Base (otherwise it would be possible to change</span>
                                <span class="co1">// other derived classes, like a hypothetical</span>
                                <span class="co1">// Derived2, base implementation)</span>
    <span class="br0">}</span>
<span class="br0">}</span><span class="sy4">;</span>
&nbsp;
<span class="kw4">void</span> Base<span class="sy4">::</span><span class="me2">g</span><span class="br0">(</span>Base<span class="sy3">&amp;</span> b, Derived<span class="sy3">&amp;</span> d<span class="br0">)</span> <span class="co1">// member function of Base</span>
<span class="br0">{</span>
    <span class="sy2">++</span>i<span class="sy4">;</span>                          <span class="co1">// OK</span>
    <span class="sy2">++</span>b.<span class="me1">i</span><span class="sy4">;</span>                        <span class="co1">// OK</span>
    <span class="sy2">++</span>d.<span class="me1">i</span><span class="sy4">;</span>                        <span class="co1">// OK</span>
<span class="br0">}</span>
&nbsp;
<span class="kw4">void</span> h<span class="br0">(</span>Base<span class="sy3">&amp;</span> b, Derived<span class="sy3">&amp;</span> d<span class="br0">)</span> <span class="co1">// Friend of Derived</span>
<span class="br0">{</span>
    <span class="sy2">++</span>d.<span class="me1">i</span><span class="sy4">;</span>                  <span class="co1">// OK: friend of Derived can access a protected </span>
                            <span class="co1">// member through an object of Derived</span>
<span class="co1">//  ++b.i;                  // error: friend of Derived is not a friend of Base</span>
<span class="br0">}</span>
&nbsp;
<span class="kw4">void</span> x<span class="br0">(</span>Base<span class="sy3">&amp;</span> b, Derived<span class="sy3">&amp;</span> d<span class="br0">)</span> <span class="co1">// non-member non-friend</span>
<span class="br0">{</span>
<span class="co1">//  ++b.i;                  // error: no access from non-member</span>
<span class="co1">//  ++d.i;                  // error: no access from non-member</span>
<span class="br0">}</span></pre></div></div>
<p>When a pointer to a protected member is formed, it must use a derived class in its declaration:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw1">struct</span> Base
<span class="br0">{</span>
<span class="kw1">protected</span><span class="sy4">:</span>
    <span class="kw4">int</span> i<span class="sy4">;</span>
<span class="br0">}</span><span class="sy4">;</span>
&nbsp;
<span class="kw1">struct</span> Derived <span class="sy4">:</span> Base
<span class="br0">{</span>
    <span class="kw4">void</span> f<span class="br0">(</span><span class="br0">)</span>
    <span class="br0">{</span>
<span class="co1">//      int Base::* ptr = &amp;Base::i;    // error: must name using Derived</span>
        <span class="kw4">int</span> Base<span class="sy4">::</span><span class="sy2">*</span> ptr <span class="sy1">=</span> <span class="sy3">&amp;</span>Derived<span class="sy4">::</span><span class="me2">i</span><span class="sy4">;</span> <span class="co1">// OK</span>
    <span class="br0">}</span>
<span class="br0">}</span><span class="sy4">;</span></pre></div></div>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/access&amp;action=edit&amp;section=6" title="Edit section: Private member access">edit</a>]</span> <span class="mw-headline" id="Private_member_access">Private member access</span></h3>
<p>Private members form the implementation of a class, as well as the private interface for the other members of the class.
</p><p>A private member of a class is only accessible to the members and friends of that class, regardless of whether the members are on the same or different instances:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw1">class</span> S
<span class="br0">{</span>
<span class="kw1">private</span><span class="sy4">:</span>
    <span class="kw4">int</span> n<span class="sy4">;</span> <span class="co1">// S::n is private</span>
<span class="kw1">public</span><span class="sy4">:</span>
    S<span class="br0">(</span><span class="br0">)</span> <span class="sy4">:</span> n<span class="br0">(</span><span class="nu0">10</span><span class="br0">)</span> <span class="br0">{</span><span class="br0">}</span>                    <span class="co1">// this-&gt;n is accessible in S::S</span>
    S<span class="br0">(</span><span class="kw4">const</span> S<span class="sy3">&amp;</span> other<span class="br0">)</span> <span class="sy4">:</span> n<span class="br0">(</span>other.<span class="me1">n</span><span class="br0">)</span> <span class="br0">{</span><span class="br0">}</span> <span class="co1">// other.n is accessible in S::S</span>
<span class="br0">}</span><span class="sy4">;</span></pre></div></div>
<p>The <a href="explicit_cast.html" title="cpp/language/explicit cast">explicit cast</a> (C-style and function-style) allows casting from a derived lvalue to reference to its private base, or from a pointer to derived to a pointer to its private base.
</p>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/access&amp;action=edit&amp;section=7" title="Edit section: Inheritance">edit</a>]</span> <span class="mw-headline" id="Inheritance">Inheritance</span></h3>
<p>See <a href="derived_class.html" title="cpp/language/derived class">derived classes</a> for the meaning of public, protected, and private inheritance.
</p>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/access&amp;action=edit&amp;section=8" title="Edit section: Keywords">edit</a>]</span> <span class="mw-headline" id="Keywords">Keywords</span></h3>
<p><a href="../keyword/public.html" title="cpp/keyword/public"><tt>public</tt></a>,
<a href="../keyword/protected.html" title="cpp/keyword/protected"><tt>protected</tt></a>,
<a href="../keyword/private.html" title="cpp/keyword/private"><tt>private</tt></a>
</p>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/access&amp;action=edit&amp;section=9" title="Edit section: Defect reports">edit</a>]</span> <span class="mw-headline" id="Defect_reports">Defect reports</span></h3>
<p>The following behavior-changing defect reports were applied retroactively to previously published C++ standards.
</p>
<table class="dsctable" style="font-size:0.8em">
<tbody><tr>
<th>DR
</th>
<th>Applied to
</th>
<th>Behavior as published
</th>
<th>Correct behavior
</th></tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/1873.html">CWG 1873</a>
</td>
<td>C++98
</td>
<td>protected members were accessible to friends of derived classes
</td>
<td>made inaccessible
</td></tr></tbody></table>

<!-- 
NewPP limit report
Preprocessor visited node count: 3639/1000000
Preprocessor generated node count: 8294/1000000
Post‐expand include size: 147272/4194304 bytes
Template argument size: 21109/4194304 bytes
Highest expansion depth: 16/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key mwiki1-mwiki_en_:pcache:idhash:5293-0!*!0!!en!*!* and timestamp 20250103104404 -->
</div>                    <!-- /bodycontent -->
                                        <!-- printfooter -->
                    <div class="printfooter">
                    Retrieved from "<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/access&amp;oldid=174495">https://en.cppreference.com/mwiki/index.php?title=cpp/language/access&amp;oldid=174495</a>"                    </div>
                    <!-- /printfooter -->
                                                            <!-- catlinks -->
                    <div id="catlinks" class="catlinks catlinks-allhidden"></div>                    <!-- /catlinks -->
                                                            <div class="visualClear"></div>
                    <!-- debughtml -->
                                        <!-- /debughtml -->
                </div>
                <!-- /bodyContent -->
            </div>
        </div>
        <!-- /content -->
        <!-- footer -->
        
        <!-- /footer -->
        <script>if(window.mw){
mw.loader.state({"site":"loading","user":"missing","user.groups":"ready"});
}</script>
<script src="https://en.cppreference.com/mwiki/load.php?debug=false&amp;lang=en&amp;modules=skins.cppreference2&amp;only=scripts&amp;skin=cppreference2&amp;*"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.page.ready","mediawiki.searchSuggest","mediawiki.hidpi","ext.gadget.ColiruCompiler","ext.gadget.StandardRevisions","ext.gadget.MathJax"], null, true);
}</script>
<script src="https://en.cppreference.com/mwiki/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=cppreference2&amp;*"></script>
<!-- Served in 2.848 secs. -->
	




</body><!-- Cached 20250103104405 --><!-- Mirrored from en.cppreference.com/w/cpp/language/access by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 29 Jan 2025 11:35:35 GMT --></html>