<!DOCTYPE html><html lang="en" dir="ltr" class="client-nojs"><!-- Mirrored from en.cppreference.com/w/cpp/named_req/AllocatorAwareContainer by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 29 Jan 2025 11:36:58 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=UTF-8"><!-- /Added by HTTrack -->

<title>C++ named requirements: AllocatorAwareContainer (since C++11)</title>
<meta charset="UTF-8">
<meta name="generator" content="MediaWiki 1.21.2">







<meta name="ResourceLoaderDynamicStyles" content="">

<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}#toc{display:none}.editsection{display:none}
/* cache key: mwiki1-mwiki_en_:resourceloader:filter:minify-css:7:472787eddcf4605d11de8c7ef047234f */</style>




<style type="text/css">/*<![CDATA[*/
.source-cpp {line-height: normal;}
.source-cpp li, .source-cpp pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for cpp
 * CSS class: source-cpp, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.cpp.source-cpp .de1, .cpp.source-cpp .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;}
.cpp.source-cpp  {font-family:monospace;}
.cpp.source-cpp .imp {font-weight: bold; color: red;}
.cpp.source-cpp li, .cpp.source-cpp .li1 {font-weight: normal; vertical-align:top;}
.cpp.source-cpp .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.cpp.source-cpp .li2 {font-weight: bold; vertical-align:top;}
.cpp.source-cpp .kw1 {color: #0000dd;}
.cpp.source-cpp .kw2 {color: #0000ff;}
.cpp.source-cpp .kw3 {color: #0000dd;}
.cpp.source-cpp .kw4 {color: #0000ff;}
.cpp.source-cpp .co1 {color: #909090;}
.cpp.source-cpp .co2 {color: #339900;}
.cpp.source-cpp .coMULTI {color: #ff0000; font-style: italic;}
.cpp.source-cpp .es0 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es1 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es2 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es3 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es4 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es5 {color: #008000; font-weight: bold;}
.cpp.source-cpp .br0 {color: #008000;}
.cpp.source-cpp .sy0 {color: #008000;}
.cpp.source-cpp .sy1 {color: #000080;}
.cpp.source-cpp .sy2 {color: #000040;}
.cpp.source-cpp .sy3 {color: #000040;}
.cpp.source-cpp .sy4 {color: #008080;}
.cpp.source-cpp .st0 {color: #008000;}
.cpp.source-cpp .nu0 {color: #000080;}
.cpp.source-cpp .nu6 {color: #000080;}
.cpp.source-cpp .nu8 {color: #000080;}
.cpp.source-cpp .nu12 {color: #000080;}
.cpp.source-cpp .nu16 {color:#000080;}
.cpp.source-cpp .nu17 {color:#000080;}
.cpp.source-cpp .nu18 {color:#000080;}
.cpp.source-cpp .nu19 {color:#000080;}
.cpp.source-cpp .ln-xtra, .cpp.source-cpp li.ln-xtra, .cpp.source-cpp div.ln-xtra {background-color: #ffc;}
.cpp.source-cpp span.xtra { display:block; }

/*]]>*/
</style><!--[if lt IE 7]><style type="text/css">body{behavior:url("/mwiki/skins/cppreference2/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-cpp_named_req_AllocatorAwareContainer skin-cppreference2 action-view cpp-navbar">
        <!-- header -->
        
        <!-- /header -->
        <!-- content -->
<style type="text/css">
#carbonads {
  display: block;
  overflow: hidden;
  position: absolute;
  text-align: center;
  left: -170px;
  max-width: 150px;
  border-radius: 4px;
  border: solid 1px hsla(0, 0%, 0%, .1);
  background-color: hsl(0, 0%, 98%);
  font-size: 12px;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu,
  Cantarell, "Helvetica Neue", Helvetica, Arial, sans-serif;
  line-height: 1.5;
}

#carbonads a {
  color: inherit;
  text-decoration: none;
}

#carbonads a:hover {
  color: inherit;
}

#carbonads span {
  position: relative;
  display: block;
  overflow: hidden;
}

.carbon-img {
  display: block;
  margin-bottom: 8px;
  max-width: 150px;
  line-height: 1;
}

.carbon-img img {
  display: block;
  margin: 0 auto;
  max-width: 150px !important;
  width: 150px;
  height: auto;
}

.carbon-text {
  display: block;
  padding: 0 1em 8px;
}

.carbon-poweredby {
  display: block;
  padding: 8px 12px;
  background: repeating-linear-gradient(-45deg, transparent, transparent 5px, hsla(0, 0%, 0%, .025) 5px, hsla(0, 0%, 0%, .025) 10px) hsla(203, 11%, 95%, .4);
  text-transform: uppercase;
  letter-spacing: .5px;
  font-weight: 600;
  font-size: 9px;
  line-height: 1;
}
html { font-variant-ligatures: no-common-ligatures; }
</style>
        <div id="cpp-content-base">
            <div id="content">
                <a id="top"></a>
                <div id="mw-js-message" style="display:none;"></div>
                                <!-- firstHeading -->
<script async type="text/javascript" src="http://cdn.carbonads.com/carbon.js?serve=CKYITK7M&amp;placement=cppreferencecom" id="_carbonads_js"></script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-8HW0LXMYCY"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8HW0LXMYCY');
</script>
                <h1 id="firstHeading" class="firstHeading"><span style="font-size:0.7em; line-height:130%">C++ named requirements:</span> <span style="font-family: Georgia, 'DejaVu Serif', serif; font-style:italic">AllocatorAwareContainer</span> <span class="t-mark-rev t-since-cxx11">(since C++11)</span></h1>
                <!-- /firstHeading -->
                <!-- bodyContent -->
                <div id="bodyContent">
                                        <!-- tagline -->
                    
                    <!-- /tagline -->
                                        <!-- subtitle -->
                    
                    <!-- /subtitle -->
                                                            <!-- bodycontent -->
                    <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<p>An <strong class="selflink"><span style="font-family: Georgia, 'DejaVu Serif', serif; font-style:italic">AllocatorAwareContainer</span></strong> is a <a href="Container.html" title="cpp/named req/Container"><span style="font-family: Georgia, 'DejaVu Serif', serif; font-style:italic">Container</span></a> that holds an instance of an <a href="Allocator.html" title="cpp/named req/Allocator"><span style="font-family: Georgia, 'DejaVu Serif', serif; font-style:italic">Allocator</span></a> and uses that instance in all its member functions to allocate and deallocate memory and to construct and destroy objects in that memory (such objects may be container elements, nodes, or, for unordered containers, bucket arrays)<span class="t-rev-inl t-since-cxx23"><span>, except that <span class="t-lc"><a href="../string/basic_string.html" title="cpp/string/basic string">std::basic_string</a></span> specializations do not use the allocators for construction/destruction of their elements</span><span><span class="t-mark-rev t-since-cxx23">(since C++23)</span></span></span>.
</p><p>The following rules apply to container construction:
</p>
<ul><li> Copy constructors of <span style="font-family: Georgia, 'DejaVu Serif', serif; font-style:italic">AllocatorAwareContainer</span>s obtain their instances of the allocator by calling <span class="t-c"><span class="mw-geshi cpp source-cpp"><a href="../memory/allocator_traits.html"><span class="kw705">std::<span class="me2">allocator_traits</span></span></a><span class="sy1">&lt;</span>allocator_type<span class="sy1">&gt;</span><span class="sy4">::</span><span class="me2">select_on_container_copy_construction</span></span></span> on the allocator of the container being copied.
</li><li> Move constructors obtain their instances of allocators by move-constructing from the allocator belonging to the old container.
</li><li> All other constructors take a <span class="mw-geshi cpp source-cpp"><span class="kw4">const</span> allocator_type<span class="sy3">&amp;</span></span> parameter.
</li></ul>
<p><span id="Replacing_allocator"></span>
The only way to replace an allocator is copy-assignment, move-assignment, and swap:
</p>
<ul><li> Copy-assignment will replace the allocator only if <span class="t-c"><span class="mw-geshi cpp source-cpp"><a href="../memory/allocator_traits.html"><span class="kw705">std::<span class="me2">allocator_traits</span></span></a><span class="sy1">&lt;</span>allocator_type<span class="sy1">&gt;</span><span class="sy4">::</span><span class="me2">propagate_on_container_copy_assignment</span><span class="sy4">::</span><span class="me2">value</span></span></span> is <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="kw2">true</span></span></span>.
</li><li> Move-assignment will replace the allocator only if <span class="t-c"><span class="mw-geshi cpp source-cpp"><a href="../memory/allocator_traits.html"><span class="kw705">std::<span class="me2">allocator_traits</span></span></a><span class="sy1">&lt;</span>allocator_type<span class="sy1">&gt;</span><span class="sy4">::</span><span class="me2">propagate_on_container_move_assignment</span><span class="sy4">::</span><span class="me2">value</span></span></span> is <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="kw2">true</span></span></span>.
</li><li> Swap will replace the allocator only if <span class="t-c"><span class="mw-geshi cpp source-cpp"><a href="../memory/allocator_traits.html"><span class="kw705">std::<span class="me2">allocator_traits</span></span></a><span class="sy1">&lt;</span>allocator_type<span class="sy1">&gt;</span><span class="sy4">::</span><span class="me2">propagate_on_container_swap</span><span class="sy4">::</span><span class="me2">value</span></span></span> is <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="kw2">true</span></span></span>. Specifically, it will exchange the allocator instances through an unqualified call to the non-member function swap, see <a href="Swappable.html" title="cpp/named req/Swappable"><span style="font-family: Georgia, 'DejaVu Serif', serif; font-style:italic">Swappable</span></a>.
</li></ul>
<p>Note: The behavior of swapping two containers with unequal allocators if <code>propagate_on_container_swap</code> is <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="kw2">false</span></span></span> is undefined.
</p>
<ul><li> The accessor <code>get_allocator()</code> obtains a copy of the allocator that was used to construct the container or installed by the most recent allocator replacement operation.
</li></ul>
<table id="toc" class="toc"><tbody><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Requirements"><span class="tocnumber">1</span> <span class="toctext">Requirements</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Types"><span class="tocnumber">1.1</span> <span class="toctext">Types</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Statements"><span class="tocnumber">1.2</span> <span class="toctext">Statements</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Expressions"><span class="tocnumber">1.3</span> <span class="toctext">Expressions</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Notes"><span class="tocnumber">2</span> <span class="toctext">Notes</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Standard_library"><span class="tocnumber">3</span> <span class="toctext">Standard library</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Defect_reports"><span class="tocnumber">4</span> <span class="toctext">Defect reports</span></a></li>
</ul>
</td></tr></tbody></table>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/named_req/AllocatorAwareContainer&amp;action=edit&amp;section=1" title="Edit section: Requirements">edit</a>]</span> <span class="mw-headline" id="Requirements">Requirements</span></h3>
<p>A type satisfies <span style="font-family: Georgia, 'DejaVu Serif', serif; font-style:italic">AllocatorAwareContainer</span> if it satisfies <a href="Container.html" title="cpp/named req/Container"><span style="font-family: Georgia, 'DejaVu Serif', serif; font-style:italic">Container</span></a> and, given the following types and values, the semantic and complexity requirements in the tables below are satisfied:
</p>
<table class="t-dsc-begin">

<tbody><tr class="t-dsc-hitem">
<td> Type
</td>
<td> Definition
</td></tr>


<tr class="t-dsc">
<td> <code>X</code>
</td>
<td> an <span style="font-family: Georgia, 'DejaVu Serif', serif; font-style:italic">AllocatorAwareContainer</span> type
</td></tr>


<tr class="t-dsc">
<td> <code>T</code>
</td>
<td> the <code>value_type</code> of <code>X</code>
</td></tr>


<tr class="t-dsc">
<td> <code>A</code>
</td>
<td> the allocator type used by <code>X</code>
</td></tr>


<tr class="t-dsc-hitem">
<td> Value
</td>
<td> Definition
</td></tr>


<tr class="t-dsc">
<td> <span class="t-c"><span class="mw-geshi cpp source-cpp">a</span></span>, <span class="t-c"><span class="mw-geshi cpp source-cpp">b</span></span>
</td>
<td> non-const lvalues of type <code>X</code>
</td></tr>


<tr class="t-dsc">
<td> <span class="t-c"><span class="mw-geshi cpp source-cpp">c</span></span>
</td>
<td> an lvalue of type <span class="mw-geshi cpp source-cpp"><span class="kw4">const</span> X</span>
</td></tr>


<tr class="t-dsc">
<td> <span class="t-c"><span class="mw-geshi cpp source-cpp">t</span></span>
</td>
<td> an lvalue or a const rvalue of type <code>X</code>
</td></tr>


<tr class="t-dsc">
<td> <span class="t-c"><span class="mw-geshi cpp source-cpp">rv</span></span>
</td>
<td> a non-const rvalue of type <code>X</code>
</td></tr>


<tr class="t-dsc">
<td> <span class="t-c"><span class="mw-geshi cpp source-cpp">m</span></span>
</td>
<td> a value of type <code>A</code>
</td></tr>

</tbody></table>
<h4><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/named_req/AllocatorAwareContainer&amp;action=edit&amp;section=2" title="Edit section: Types">edit</a>]</span> <span class="mw-headline" id="Types">Types</span></h4>
<table class="wikitable">
<tbody><tr>
<th>Name
</th>
<th>&nbsp;Type&nbsp;
</th>
<th>Requirement
</th></tr>
<tr>
<td><span class="mw-geshi cpp source-cpp"><span class="kw1">typename</span> X<span class="sy4">::</span><span class="me2">allocator_type</span></span>&nbsp;
</td>
<td><code>A</code>
</td>
<td><code>X::allocator_type::value_type</code> and <code>X::value_type</code> are the same.
</td></tr></tbody></table>
<h4><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/named_req/AllocatorAwareContainer&amp;action=edit&amp;section=3" title="Edit section: Statements">edit</a>]</span> <span class="mw-headline" id="Statements">Statements</span></h4>
<table class="wikitable">
<tbody><tr>
<th>Statement
</th>
<th colspan="2">Semantics
</th>
<th>Complexity
</th></tr>
<tr>
<td rowspan="2"><span class="t-c"><span class="mw-geshi cpp source-cpp">X u<span class="sy4">;</span></span></span><br><span class="t-c"><span class="mw-geshi cpp source-cpp">X u <span class="sy1">=</span> X<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span></span></span>
</td>
<td>Precondition
</td>
<td><code>A</code> is <a href="DefaultConstructible.html" title="cpp/named req/DefaultConstructible"><span style="font-family: Georgia, 'DejaVu Serif', serif; font-style:italic">DefaultConstructible</span></a>.
</td>
<td rowspan="2">Constant
</td></tr>
<tr>
<td>Postcondition&nbsp;
</td>
<td><span class="t-c"><span class="mw-geshi cpp source-cpp">u.<span class="me1">empty</span><span class="br0">(</span><span class="br0">)</span></span></span> and <span class="t-c"><span class="mw-geshi cpp source-cpp">u.<span class="me1">get_allocator</span><span class="br0">(</span><span class="br0">)</span> <span class="sy1">==</span> A<span class="br0">(</span><span class="br0">)</span></span></span> are both <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="kw2">true</span></span></span>.
</td></tr>
<tr>
<td><span class="t-c"><span class="mw-geshi cpp source-cpp">X u<span class="br0">(</span>m<span class="br0">)</span><span class="sy4">;</span></span></span>
</td>
<td>Postcondition
</td>
<td><span class="t-c"><span class="mw-geshi cpp source-cpp">u.<span class="me1">empty</span><span class="br0">(</span><span class="br0">)</span></span></span> and <span class="t-c"><span class="mw-geshi cpp source-cpp">u.<span class="me1">get_allocator</span><span class="br0">(</span><span class="br0">)</span> <span class="sy1">==</span> m</span></span> are both <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="kw2">true</span></span></span>.
</td>
<td>Constant
</td></tr>
<tr>
<td rowspan="2"><span class="t-c"><span class="mw-geshi cpp source-cpp">X u<span class="br0">(</span>t, m<span class="br0">)</span><span class="sy4">;</span></span></span>
</td>
<td>Precondition
</td>
<td><code>T</code> is <a href="CopyInsertable.html" title="cpp/named req/CopyInsertable"><span style="font-family: Georgia, 'DejaVu Serif', serif; font-style:italic">CopyInsertable</span></a> into <code>X</code>.
</td>
<td rowspan="2">Linear
</td></tr>
<tr>
<td>Postcondition
</td>
<td><span class="t-c"><span class="mw-geshi cpp source-cpp">u <span class="sy1">==</span> t</span></span> and <span class="t-c"><span class="mw-geshi cpp source-cpp">u.<span class="me1">get_allocator</span><span class="br0">(</span><span class="br0">)</span> <span class="sy1">==</span> m</span></span> are both <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="kw2">true</span></span></span>.
</td></tr>
<tr>
<td><span class="t-c"><span class="mw-geshi cpp source-cpp">X u<span class="br0">(</span>rv<span class="br0">)</span><span class="sy4">;</span></span></span>
</td>
<td>Postcondition
</td>
<td>
<ul><li> <span class="t-c"><span class="mw-geshi cpp source-cpp">u</span></span> has the same elements as <span class="t-c"><span class="mw-geshi cpp source-cpp">rv</span></span> had before this construction.
</li><li> The value of <span class="t-c"><span class="mw-geshi cpp source-cpp">u.<span class="me1">get_allocator</span><span class="br0">(</span><span class="br0">)</span></span></span> is the same as the value of <span class="t-c"><span class="mw-geshi cpp source-cpp">rv.<span class="me1">get_allocator</span><span class="br0">(</span><span class="br0">)</span></span></span> before this construction.
</li></ul>
</td>
<td>Constant
</td></tr>
<tr>
<td rowspan="2"><span class="t-c"><span class="mw-geshi cpp source-cpp">X u<span class="br0">(</span>rv, m<span class="br0">)</span><span class="sy4">;</span></span></span>
</td>
<td>Precondition
</td>
<td><code>T</code> is <a href="MoveInsertable.html" title="cpp/named req/MoveInsertable"><span style="font-family: Georgia, 'DejaVu Serif', serif; font-style:italic">MoveInsertable</span></a> into <code>X</code>.
</td>
<td rowspan="2">
<ul><li> Constant if <span class="t-c"><span class="mw-geshi cpp source-cpp">m <span class="sy1">==</span> rv.<span class="me1">get_allocator</span><span class="br0">(</span><span class="br0">)</span></span></span> is <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="kw2">true</span></span></span>.
</li><li> Otherwise linear.
</li></ul>
</td></tr>
<tr>
<td>Postcondition
</td>
<td>
<ul><li> <span class="t-c"><span class="mw-geshi cpp source-cpp">u</span></span> has the same elements, or copies of the elements, that <span class="t-c"><span class="mw-geshi cpp source-cpp">rv</span></span> had before this construction.
</li><li> <span class="t-c"><span class="mw-geshi cpp source-cpp">u.<span class="me1">get_allocator</span><span class="br0">(</span><span class="br0">)</span> <span class="sy1">==</span> m</span></span> is <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="kw2">true</span></span></span>.
</li></ul>
</td></tr></tbody></table>
<h4><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/named_req/AllocatorAwareContainer&amp;action=edit&amp;section=4" title="Edit section: Expressions">edit</a>]</span> <span class="mw-headline" id="Expressions">Expressions</span></h4>
<table class="wikitable">
<tbody><tr>
<th>Expression
</th>
<th>&nbsp;Type&nbsp;
</th>
<th colspan="2">Semantics
</th>
<th>&nbsp;Complexity&nbsp;
</th></tr>
<tr>
<td><span class="t-c"><span class="mw-geshi cpp source-cpp">c.<span class="me1">get_allocator</span><span class="br0">(</span><span class="br0">)</span></span></span>
</td>
<td><code>A</code>
</td>
<td colspan="2">No direct semantic requirement.
</td>
<td>Constant
</td></tr>
<tr>
<td rowspan="2"><span class="t-c"><span class="mw-geshi cpp source-cpp">a <span class="sy1">=</span> t</span></span>
</td>
<td rowspan="2"><code>X&amp;</code>
</td>
<td>Precondition
</td>
<td><code>T</code> is <a href="CopyInsertable.html" title="cpp/named req/CopyInsertable"><span style="font-family: Georgia, 'DejaVu Serif', serif; font-style:italic">CopyInsertable</span></a> into <code>X</code> and <a href="CopyAssignable.html" title="cpp/named req/CopyAssignable"><span style="font-family: Georgia, 'DejaVu Serif', serif; font-style:italic">CopyAssignable</span></a>.
</td>
<td rowspan="2">Linear
</td></tr>
<tr>
<td>Postcondition&nbsp;
</td>
<td><span class="t-c"><span class="mw-geshi cpp source-cpp">a <span class="sy1">==</span> t</span></span> is <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="kw2">true</span></span></span>.
</td></tr>
<tr>
<td rowspan="3"><span class="t-c"><span class="mw-geshi cpp source-cpp">a <span class="sy1">=</span> rv</span></span>
</td>
<td rowspan="3"><code>X&amp;</code>
</td>
<td>Precondition
</td>
<td>If the allocator will <b>not</b> be replaced by move-assignment (see <a href="#Replacing_allocator">above</a>), then <code>T</code> is <a href="MoveInsertable.html" title="cpp/named req/MoveInsertable"><span style="font-family: Georgia, 'DejaVu Serif', serif; font-style:italic">MoveInsertable</span></a> into <code>X</code> and <a href="MoveAssignable.html" title="cpp/named req/MoveAssignable"><span style="font-family: Georgia, 'DejaVu Serif', serif; font-style:italic">MoveAssignable</span></a>.
</td>
<td rowspan="3">Linear
</td></tr>
<tr>
<td>Effect
</td>
<td>All existing elements of <span class="t-c"><span class="mw-geshi cpp source-cpp">a</span></span> are either move assigned to or destroyed.
</td></tr>
<tr>
<td>Postcondition
</td>
<td>If <span class="t-c"><span class="mw-geshi cpp source-cpp">a</span></span> and <span class="t-c"><span class="mw-geshi cpp source-cpp">rv</span></span> do not refer the same object, <span class="t-c"><span class="mw-geshi cpp source-cpp">a</span></span> is equal to the value that <span class="t-c"><span class="mw-geshi cpp source-cpp">rv</span></span> had before the assignment.
</td></tr>
<tr>
<td><span class="t-c"><span class="mw-geshi cpp source-cpp">a.<span class="me1">swap</span><span class="br0">(</span>b<span class="br0">)</span></span></span>
</td>
<td><span class="mw-geshi cpp source-cpp"><span class="kw4">void</span></span>
</td>
<td>Effect
</td>
<td>Exchanges the contents of <span class="t-c"><span class="mw-geshi cpp source-cpp">a</span></span> and <span class="t-c"><span class="mw-geshi cpp source-cpp">b</span></span>.
</td>
<td>Constant
</td></tr></tbody></table>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/named_req/AllocatorAwareContainer&amp;action=edit&amp;section=5" title="Edit section: Notes">edit</a>]</span> <span class="mw-headline" id="Notes">Notes</span></h3>
<p><span style="font-family: Georgia, 'DejaVu Serif', serif; font-style:italic">AllocatorAwareContainer</span>s always call <span class="t-c"><span class="mw-geshi cpp source-cpp"><a href="../memory/allocator_traits.html"><span class="kw705">std::<span class="me2">allocator_traits</span></span></a><span class="sy1">&lt;</span>A<span class="sy1">&gt;</span><span class="sy4">::</span><span class="me2">construct</span><span class="br0">(</span>m, p, args<span class="br0">)</span></span></span> to construct an object of type <code>T</code> at <span class="t-c"><span class="mw-geshi cpp source-cpp">p</span></span> using <span class="t-c"><span class="mw-geshi cpp source-cpp">args</span></span>, with <span class="t-c"><span class="mw-geshi cpp source-cpp">m <span class="sy1">==</span> get_allocator<span class="br0">(</span><span class="br0">)</span></span></span>. <span class="t-rev-inl t-until-cxx20"><span>The default <code>construct</code> in <span class="t-lc"><a href="../memory/allocator.html" title="cpp/memory/allocator">std::allocator</a></span> calls <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="sy4">::</span><span class="me2">new</span><span class="br0">(</span><span class="br0">(</span><span class="kw4">void</span><span class="sy2">*</span><span class="br0">)</span>p<span class="br0">)</span> T<span class="br0">(</span>args<span class="br0">)</span></span></span></span><span><span class="t-mark-rev t-until-cxx20">(until C++20)</span></span></span><span class="t-rev-inl t-since-cxx20"><span><span class="t-lc"><a href="../memory/allocator.html" title="cpp/memory/allocator">std::allocator</a></span> has no <code>construct</code> member and <span class="t-c"><span class="mw-geshi cpp source-cpp"><a href="../memory/construct_at.html"><span class="kw3227">std::<span class="me2">construct_at</span></span></a><span class="br0">(</span>p, args<span class="br0">)</span></span></span> is called when constructing elements</span><span><span class="t-mark-rev t-since-cxx20">(since C++20)</span></span></span>, but specialized allocators may choose a different definition.
</p>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/named_req/AllocatorAwareContainer&amp;action=edit&amp;section=6" title="Edit section: Standard library">edit</a>]</span> <span class="mw-headline" id="Standard_library">Standard library</span></h3>
<p>All standard library string types and containers (except <span class="t-lc"><a href="../container/array.html" title="cpp/container/array">std::array</a></span> and <span class="mw-geshi cpp source-cpp"><a href="../container/inplace_vector.html"><span class="kw3363">std::<span class="me2">inplace_vector</span></span></a></span>) are <span style="font-family: Georgia, 'DejaVu Serif', serif; font-style:italic">AllocatorAwareContainer</span>s:
</p>
<table class="t-dsc-begin">

<tbody><tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="../string/basic_string.html" title="cpp/string/basic string"> <span class="t-lines"><span>basic_string</span></span></a></div></div>
</td>
<td>  stores and manipulates sequences of characters <br> <span class="t-mark">(class template)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="https://en.cppreference.com/mwiki/index.php?title=Template:cpp/string/dsc_basic_string&amp;action=edit">[edit]</a></span>
</td></tr>

<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="../container/deque.html" title="cpp/container/deque"> <span class="t-lines"><span>deque</span></span></a></div></div>
</td>
<td>  double-ended queue <br> <span class="t-mark">(class template)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_deque&amp;action=edit">[edit]</a></span>
</td></tr>

<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="../container/forward_list.html" title="cpp/container/forward list"> <span class="t-lines"><span>forward_list</span></span></a></div><div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div></div>
</td>
<td>  singly-linked list <br> <span class="t-mark">(class template)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_forward_list&amp;action=edit">[edit]</a></span>
</td></tr>

<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="../container/list.html" title="cpp/container/list"> <span class="t-lines"><span>list</span></span></a></div></div>
</td>
<td>  doubly-linked list <br> <span class="t-mark">(class template)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_list&amp;action=edit">[edit]</a></span>
</td></tr>

<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="../container/vector.html" title="cpp/container/vector"> <span class="t-lines"><span>vector</span></span></a></div></div>
</td>
<td>  dynamic contiguous array <br> <span class="t-mark">(class template)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_vector&amp;action=edit">[edit]</a></span>
</td></tr>

<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="../container/map.html" title="cpp/container/map"> <span class="t-lines"><span>map</span></span></a></div></div>
</td>
<td>  collection of key-value pairs, sorted by keys, keys are unique <br> <span class="t-mark">(class template)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_map&amp;action=edit">[edit]</a></span>
</td></tr>

<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="../container/multimap.html" title="cpp/container/multimap"> <span class="t-lines"><span>multimap</span></span></a></div></div>
</td>
<td>  collection of key-value pairs, sorted by keys <br> <span class="t-mark">(class template)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_multimap&amp;action=edit">[edit]</a></span>
</td></tr>

<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="../container/set.html" title="cpp/container/set"> <span class="t-lines"><span>set</span></span></a></div></div>
</td>
<td>  collection of unique keys, sorted by keys <br> <span class="t-mark">(class template)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_set&amp;action=edit">[edit]</a></span>
</td></tr>

<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="../container/multiset.html" title="cpp/container/multiset"> <span class="t-lines"><span>multiset</span></span></a></div></div>
</td>
<td>  collection of keys, sorted by keys <br> <span class="t-mark">(class template)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_multiset&amp;action=edit">[edit]</a></span>
</td></tr>

<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="../container/unordered_map.html" title="cpp/container/unordered map"> <span class="t-lines"><span>unordered_map</span></span></a></div><div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div></div>
</td>
<td>  collection of key-value pairs, hashed by keys, keys are unique <br> <span class="t-mark">(class template)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_unordered_map&amp;action=edit">[edit]</a></span>
</td></tr>

<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="../container/unordered_multimap.html" title="cpp/container/unordered multimap"> <span class="t-lines"><span>unordered_multimap</span></span></a></div><div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div></div>
</td>
<td>  collection of key-value pairs, hashed by keys <br> <span class="t-mark">(class template)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_unordered_multimap&amp;action=edit">[edit]</a></span>
</td></tr>

<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="../container/unordered_set.html" title="cpp/container/unordered set"> <span class="t-lines"><span>unordered_set</span></span></a></div><div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div></div>
</td>
<td>  collection of unique keys, hashed by keys <br> <span class="t-mark">(class template)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_unordered_set&amp;action=edit">[edit]</a></span>
</td></tr>

<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="../container/unordered_multiset.html" title="cpp/container/unordered multiset"> <span class="t-lines"><span>unordered_multiset</span></span></a></div><div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div></div>
</td>
<td>  collection of keys, hashed by keys <br> <span class="t-mark">(class template)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_unordered_multiset&amp;action=edit">[edit]</a></span>
</td></tr>
</tbody></table>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/named_req/AllocatorAwareContainer&amp;action=edit&amp;section=7" title="Edit section: Defect reports">edit</a>]</span> <span class="mw-headline" id="Defect_reports">Defect reports</span></h3>
<p>The following behavior-changing defect reports were applied retroactively to previously published C++ standards.
</p>
<table class="dsctable" style="font-size:0.8em">
<tbody><tr>
<th>DR
</th>
<th>Applied to
</th>
<th>Behavior as published
</th>
<th>Correct behavior
</th></tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://cplusplus.github.io/LWG/issue2839">LWG 2839</a>
</td>
<td>C++11
</td>
<td>self move assignment of standard containers was not allowed
</td>
<td>allowed but the result is unspecified
</td></tr></tbody></table>

<!-- 
NewPP limit report
Preprocessor visited node count: 10473/1000000
Preprocessor generated node count: 11004/1000000
Post‐expand include size: 274519/4194304 bytes
Template argument size: 49275/4194304 bytes
Highest expansion depth: 20/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key mwiki1-mwiki_en_:pcache:idhash:9617-0!*!0!!en!*!* and timestamp 20250109014648 -->
</div>                    <!-- /bodycontent -->
                                        <!-- printfooter -->
                    <div class="printfooter">
                    Retrieved from "<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/named_req/AllocatorAwareContainer&amp;oldid=178187">https://en.cppreference.com/mwiki/index.php?title=cpp/named_req/AllocatorAwareContainer&amp;oldid=178187</a>"                    </div>
                    <!-- /printfooter -->
                                                            <!-- catlinks -->
                    <div id="catlinks" class="catlinks catlinks-allhidden"></div>                    <!-- /catlinks -->
                                                            <div class="visualClear"></div>
                    <!-- debughtml -->
                                        <!-- /debughtml -->
                </div>
                <!-- /bodyContent -->
            </div>
        </div>
        <!-- /content -->
        <!-- footer -->
        
        <!-- /footer -->
        <script>if(window.mw){
mw.loader.state({"site":"loading","user":"missing","user.groups":"ready"});
}</script>
<script src="https://en.cppreference.com/mwiki/load.php?debug=false&amp;lang=en&amp;modules=skins.cppreference2&amp;only=scripts&amp;skin=cppreference2&amp;*"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.page.ready","mediawiki.searchSuggest","mediawiki.hidpi","ext.gadget.ColiruCompiler","ext.gadget.StandardRevisions","ext.gadget.MathJax"], null, true);
}</script>
<script src="https://en.cppreference.com/mwiki/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=cppreference2&amp;*"></script>
<!-- Served in 5.510 secs. -->
	




</body><!-- Cached 20250109014648 --><!-- Mirrored from en.cppreference.com/w/cpp/named_req/AllocatorAwareContainer by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 29 Jan 2025 11:36:58 GMT --></html>